---
title: "FAQ BT24"
subtitle: "Richtlinien zur Ploterstellung im BT24"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{faq_bt24}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r setup}
library(eatPlot)
```

Hier sind die wichtigsten Richtlinien zur Vereinheitlichung der Abbildungen im Bildungstrend 24 gesammelt, zusammen mit Umsetzungsvorschlägen in `eatPlot`.  
Die meisten Punkte sind bereits in den sogenannten [Default lists](https://nickhaf.github.io/eatPlot/articles/default_lists.html) umgesetzt, die in `plotsettings_lineplot()` und `plotsettings_tablebarplot()` angegeben werden können. 


# Plotübergreifend
## Allgemeine Richtlinien

### Ausrichtung von Kennwerten 
Ausrichtung erfolgt am Dezimalpunkt sowie rechtsbündig. 

In `eatPlot` kann das so erreicht werden: 

```{r}
#| eval: FALSE
plotsettings_tablebarplot(columns_alignment = 2)
```


Eventuell muss ein wenig nachjustiert werden, um die Spalteninhalte so zu rücken, dass es stimmig aussieht:

```{r}
#| eval: FALSE
plotsettings_tablebarplot(columns_nudge_x = ... )
```


### Wich dash???
Bei Differenzen vor und nach langem Strich kein Leerzeichen setzen, z. B. 

- *M~M~–M~J~* 
- *M~2024–~M~2018~*   


**Code für den entsprechenden Dash eingeben! Außerdem: Was ist mit den Zahlen?**

### Delta
Nach Delta-Zeichen kein Leerzeichen setzen. 


und nur M kursiv "Delta * italic(M)"

### Schriftgröße
Die Schriftgröße kann nicht einheitlich festgelegt werden, weil sie von der Größe der finalen Abbildung abhängt. 
Falls euer Plot die gleiche Größe hat wie eine der Vorlagen, könnt ihr einfach die Default list verwenden. 
Hier orientiert ihr euch am besten an den Vorlagen, die in etwa die gleiche Größe haben wie eure Abbildung, und justiert dann 
in:

```{r}
#| eval: false

plotsettings_tablebarplot(font_size = ..., 
                          header_font_size = ...
                          )
```

Die Schriftgröße könnt ihr aus den Default lists auslesen, die ihr für eure Abbildung verwendet, z.B mit:

```{r}
abb_6.6$font_size
```

### Farben 
Sind voreingestllt. Ansonsten hier die Liste:




### Bold/italic headers
„Land“ und oberste Zeile(n) im Tabellenkopf fettgedruckt; Zeile mit M, SD etc. nicht fett, dafür kursiv
[`plot_tablebarplot(headers = c("**Land**", "*M*", ...)`](https://nickhaf.github.io/eatPlot/reference/plot_tablebarplot.html). Besonderheit bei griechischen Bustaben: Da muss plotmath verwendet werden, deshalb: [`plot_tablebarplot(headers = c("bold(Land)", "Delta * italic(M)", ...), plotsetttings_tablebarplot(headers_ggtext = FALSE))`](https://nickhaf.github.io/eatPlot/reference/plotsettings_tablebarplot.html#ref-usage)  


## Export
### Exporttyp
Exportieren als PDF und im Farbprofil cmyk. Voreingestellt in `save_plot()`

### Exportmaße

Die Exportmaße können in `save_plot(height = ..., widht = ...)` eingestellt werden. 
Dabei bitte an den Vorlagen orientieren: 

- Ganzseitige Abbildung/Tabelle im Hochformat: 
- Ganzseitige Abbildung/Tabelle im Querformat: z.B. [Linienplot für 2 Gruppen](https://nickhaf.github.io/eatPlot/articles/lineplots.html#lineplot-for-two-groups)
- Teilseitige Abbildung/Tabelle im Hochformat:


## Sonderzeichen

## $\Delta$
Ein String der Delta enthält kann in `eatPlot` auf zwei Arten erzeugt werden:

### ggtext
Uses the package [`ggtext`](https://wilkelab.org/ggtext/) for easy HTML support. 

``

### plotmath
`"Delta"`

Diese Einstellung **ist nötig**, wenn die Plots am Ende als PDF mit cmyk-Farbschema `abgespeichert` werden sollen.  
Dafür muss 

```{r}
#| eval: FALSE

plotsettings_tablebarplot(headers_ggtext = FALSE)
```

gesetzt werden! 





## Balkendiagramme

### Balkenfüllung
-	Statistisch signifikante Werte (p < .05) mit ausgefüllten Balken darstellen
- Statistisch nicht signifikante Werte mit schraffierten Balken darstellen (Schraffur von oben links nach unten rechts)
- Größe des Balkenmusters. 
-	Balkenfarben
-	Erste Gruppe bzw. erster Kompetenzbereich in dunklem türkis (Farbcode)
-	Zweite Gruppe bzw. zweiter Kompetenzbereich in mittlerem türkis (Farbcode)


### Farben


#### Farben zur Zeilenorientierung
Farbliche Hinterlegungen zur Zeilenorientierung (wechselnd weiß / türkis) wird wie im Tabellenteil hinter dem Balkendiagramm weitergeführt

#### x-Achse unterhalb der Balken 
in schwarz (0/0/0/100)

#### Nulllinie
in schwarz (0/0/0/100)

#### Hilfslinien vertikal
grau (), gestichelt (dashed)


### Zeilenumbruch
Zeilenumbrüche werden in Ländernamen nur dann gesetzt, wenn die Zeilen aus anderen Gründen breiter sind (z.B. weil je Land zwei Ergebniszeilen berichtet werden). 
Zeilenumbrüche für die Bundeslandnamen werden vor dem Plotten eingefügt, am einfachsten mit:

```{r}
#| eval: FALSE

my_dat$state_var <- process_bundesland(my_dat$state_var, linebreak = TRUE)
```



## Liniendiagramm
-	Referenzband mit +/- 2 SE anzeigen
-	Wenn SE einstellig, dann ein zusätzliches Leerzeichen vor der Klammer einfügen, sodass sowohl (SE) als auch der Wert der Mittelwertsdifferenz rechtsbündig zueinanderstehen
-	die Spitze der geschwiffenen Klammer auf das erste Leerzeichen zwischen M und (SE) ausrichten
-	Farbliche Hinterlegung der Jahre in dunklem türkis (Farbcode: )
-	Skala links von den Linien in schwarz (0/0/0/100)
-	Geschwiffene Klammern in schwarz (0/0/0/100)
-	Linien für Gruppen
o	erste Gruppe schwarz (0/0/0/100)
o	zweite Gruppe dunkelgrau (0/0/0/60)
o	dritte Gruppe mittelgrau (0/0/0/40)
-	Referenzband in hellem türkis (7/0/4/1)
-	Statistisch signifikante Veränderung (p < .05) mit durchgezogener Linie darstellen
-	Statistisch nicht signifikante Veränderung mit gestrichelter Linie darstellen
-	Hochgestelltes a
o	Bei bundesweiten Trends für Gruppen: Statistisch signifikante Abweichung (p < .05) zum Trend in der Gesamtpopulation aller Neuntklässler:innen in Deutschland insgesamt
o	Bei länderspezifischen Trends für Gruppen: Statistisch signifikante Abweichung (p < .05) zum Trend der jeweiligen Schüler:innengruppe in Deutschland insgesamt
-	Ausgefülltes Dreieck für Wert, der statistisch signifikant (p < .05) vom Wert der Gesamtpopulation abweicht
-	Ausgefüllter Kreis für Wert, der statistisch nicht signifikant vom Wert der Gesamtpopulation abweicht



