<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Tableplots • eatPlot</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Tableplots">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">eatPlot</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/lineplots.html">Lineplots</a></li>
    <li><a class="dropdown-item" href="../articles/loop_example.html">Mehrere Kompetenzbereiche: Schleifen</a></li>
    <li><a class="dropdown-item" href="../articles/plot_settings.html">Plot settings</a></li>
    <li><a class="dropdown-item" href="../articles/tableplots.html">Tableplots</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Tableplots</h1>
            
      

      <div class="d-none name"><code>tableplots.Rmd</code></div>
    </div>

    
    
<p>This vignette shows you how to plot tableplots from
<code>eatRep</code> data. The workflow is optimized for
Bildungstrend-graphs, but can be expanded for plotting other
<code>eatRep</code> data as well.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://nickhaf.github.io/eatPlot/">eatPlot</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="geschlechterkapitel">Geschlechterkapitel<a class="anchor" aria-label="anchor" href="#geschlechterkapitel"></a>
</h2>
<div class="section level3">
<h3 id="abbildung-6-5">Abbildung 6.5<a class="anchor" aria-label="anchor" href="#abbildung-6-5"></a>
</h3>
<p>First we prepare the data:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">gender_prepped</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/do.call.html" class="external-link">do.call</a></span><span class="op">(</span><span class="va">rbind</span>, <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">trend_gender</span>, <span class="va">prep_tablebarplot</span>, subgroup_var <span class="op">=</span> <span class="st">"Kgender"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Now, we only want to plot the comparison of männlich vs. weiblich.
The direction is always the same, we can look that up in the plain data,
therefore it doesn’t matter which one we filter:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">gender_prepped_sub</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">gender_prepped</span>, <span class="va">subgroup_var</span> <span class="op">==</span> <span class="st">"maennlich"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">gender_prepped</span> <span class="op">&lt;-</span> <span class="va">gender_prepped_sub</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html" class="external-link">order</a></span><span class="op">(</span><span class="va">gender_prepped_sub</span><span class="op">$</span><span class="va">state_var</span><span class="op">)</span>, <span class="op">]</span></span>
<span><span class="va">gender_prepped</span><span class="op">$</span><span class="va">y_axis</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">gender_prepped</span><span class="op">)</span></span>
<span></span>
<span><span class="va">gender_prepped</span><span class="op">$</span><span class="va">state_var</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/process_bundesland.html">process_bundesland</a></span><span class="op">(</span><span class="va">gender_prepped</span><span class="op">$</span><span class="va">state_var</span>, linebreak <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p>The tables need some more work, because they need to be connected
with the barplot, but only have half the rows. Therefore we need to
build separate variables for each table part, with the respective rows
of the domain not plotted in the table half set to empty strings.
Because we want to plot both competence areas next to each other, we
have to do some minor data wrangling first:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">gender_prepped_lesen</span> <span class="op">&lt;-</span> <span class="va">gender_prepped</span></span>
<span><span class="va">gender_prepped_lesen</span><span class="op">[</span><span class="va">gender_prepped_lesen</span><span class="op">$</span><span class="va">kb</span> <span class="op">==</span> <span class="st">"hoeren"</span>, <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">gender_prepped</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"y_axis"</span>, <span class="st">"kb"</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">NA</span></span>
<span></span>
<span><span class="va">gender_prepped_hoeren</span> <span class="op">&lt;-</span> <span class="va">gender_prepped</span></span>
<span><span class="va">gender_prepped_hoeren</span><span class="op">[</span><span class="va">gender_prepped_hoeren</span><span class="op">$</span><span class="va">kb</span> <span class="op">==</span> <span class="st">"lesen"</span>, <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">gender_prepped</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"y_axis"</span>, <span class="st">"kb"</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">NA</span></span>
<span></span>
<span><span class="va">gender_prepped_lh</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/merge.html" class="external-link">merge</a></span><span class="op">(</span><span class="va">gender_prepped_lesen</span>, <span class="va">gender_prepped_hoeren</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"y_axis"</span>, <span class="st">"kb"</span><span class="op">)</span>, suffixes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"_lesen"</span>, <span class="st">"_hören"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">gender_prepped_lh_final</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/merge.html" class="external-link">merge</a></span><span class="op">(</span></span>
<span>  <span class="va">gender_prepped_lh</span>,</span>
<span>  <span class="va">gender_prepped</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="st">"y_axis"</span>,</span>
<span>    <span class="st">"est_mean_comp_groupDiff_sameFacet_weiblichSubgroup_2022"</span>,</span>
<span>    <span class="st">"sig_mean_comp_groupDiff_sameFacet_weiblichSubgroup_2022"</span></span>
<span>  <span class="op">)</span><span class="op">]</span></span>
<span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="va">gender_prepped_lh_final</span> <span class="op">&lt;-</span> <span class="va">gender_prepped_lh_final</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html" class="external-link">order</a></span><span class="op">(</span><span class="va">gender_prepped_lh_final</span><span class="op">$</span><span class="va">y_axis</span><span class="op">)</span>, <span class="op">]</span></span></code></pre></div>
<p>Now we can plot the table like usual, with one exception: I can nudge
the table contents a bit downwards, so they also fill the empty row.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tableplot_6.5</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/plot_tablebarplot.html">plot_tablebarplot</a></span><span class="op">(</span></span>
<span>  dat <span class="op">=</span> <span class="va">gender_prepped_lh_final</span>,</span>
<span>  bar_est <span class="op">=</span> <span class="st">"est_mean_comp_groupDiff_sameFacet_weiblichSubgroup_2022"</span>,</span>
<span>  bar_fill <span class="op">=</span> <span class="st">"kb"</span>,</span>
<span>  bar_sig <span class="op">=</span> <span class="st">"sig_mean_comp_groupDiff_sameFacet_weiblichSubgroup_2022"</span>,</span>
<span>  columns_table <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="st">"state_var_lesen"</span>,</span>
<span>    <span class="st">"est_mean_comp_groupDiff_sameFacet_weiblichSubgroup_2022_lesen"</span>,</span>
<span>    <span class="st">"se_mean_comp_groupDiff_sameFacet_weiblichSubgroup_2022_lesen"</span>,</span>
<span>    <span class="st">"es_mean_comp_groupDiff_sameFacet_weiblichSubgroup_2022_lesen"</span>,</span>
<span>    <span class="st">"est_mean_comp_groupDiff_sameFacet_weiblichSubgroup_2022_hören"</span>,</span>
<span>    <span class="st">"se_mean_comp_groupDiff_sameFacet_weiblichSubgroup_2022_hören"</span>,</span>
<span>    <span class="st">"es_mean_comp_groupDiff_sameFacet_weiblichSubgroup_2022_hören"</span></span>
<span>  <span class="op">)</span>,</span>
<span>  columns_table_sig_bold <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="cn">NULL</span>, <span class="st">"sig_mean_comp_groupDiff_sameFacet_weiblichSubgroup_2022_lesen"</span>, <span class="cn">NULL</span>, <span class="st">"sig_mean_comp_groupDiff_sameFacet_weiblichSubgroup_2022_lesen"</span>, <span class="st">"sig_mean_comp_groupDiff_sameFacet_weiblichSubgroup_2022_hören"</span>, <span class="cn">NULL</span>, <span class="st">"sig_mean_comp_groupDiff_sameFacet_weiblichSubgroup_2022_hören"</span><span class="op">)</span>,</span>
<span>  columns_table_sig_superscript <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="cn">NULL</span>, <span class="st">"sig_mean_comp_crossDiff_of_groupDiff_totalFacet_weiblichSubgroup_2022_lesen"</span>,</span>
<span>    <span class="cn">NULL</span>, <span class="st">"sig_mean_comp_crossDiff_of_groupDiff_totalFacet_weiblichSubgroup_2022_lesen"</span>, <span class="st">"sig_mean_comp_crossDiff_of_groupDiff_totalFacet_weiblichSubgroup_2022_hören"</span>, <span class="cn">NULL</span>, <span class="st">"sig_mean_comp_crossDiff_of_groupDiff_totalFacet_weiblichSubgroup_2022_hören"</span></span>
<span>  <span class="op">)</span>,</span>
<span>  columns_round <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="cn">NULL</span>, <span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>  columns_table_se <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="cn">NULL</span>, <span class="cn">NULL</span>, <span class="st">"se_mean_comp_groupDiff_sameFacet_weiblichSubgroup_2022_lesen"</span>, <span class="cn">NULL</span>, <span class="cn">NULL</span>, <span class="st">"se_mean_comp_groupDiff_sameFacet_weiblichSubgroup_2022_hören"</span>, <span class="cn">NULL</span><span class="op">)</span>,</span>
<span>  headers <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"**Land**"</span>, <span class="st">"*M&lt;sub&gt;M&lt;/sub&gt;-M&lt;sub&gt;J&lt;/sub&gt;*"</span>, <span class="st">"(*SE*)"</span>, <span class="st">"*d*"</span>, <span class="st">"*M&lt;sub&gt;M&lt;/sub&gt;-M&lt;sub&gt;J&lt;/sub&gt;*"</span>, <span class="st">"(*SE*)"</span>, <span class="st">"*d*"</span>, <span class="st">"**Vorsprung zugunsten der&lt;br&gt;Mädchen**"</span><span class="op">)</span>,</span>
<span>  column_spanners <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"**Leseverstehen**"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">4</span><span class="op">)</span>, <span class="st">"**Hörverstehen**"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">7</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  y_axis <span class="op">=</span> <span class="st">"y_axis"</span>,</span>
<span>  plot_settings <span class="op">=</span> <span class="fu"><a href="../reference/plotsettings_tablebarplot.html">plotsettings_tablebarplot</a></span><span class="op">(</span></span>
<span>    default_list <span class="op">=</span> <span class="va">abb_6.5</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Finally we can save the plot:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/save_plot.html">save_plot</a></span><span class="op">(</span><span class="va">tableplot_6.5</span>, filename <span class="op">=</span> <span class="st">"C:/Users/hafiznij/Downloads/abb6.5.pdf"</span>, width <span class="op">=</span> <span class="fl">160</span>, height <span class="op">=</span> <span class="fl">90</span>, scaling <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tableplot_6.5</span></span></code></pre></div>
<p><img src="tableplots_files/figure-html/unnamed-chunk-8-1.png" width="700"></p>
</div>
<div class="section level3">
<h3 id="abbildung-6-6">Abbildung 6.6<a class="anchor" aria-label="anchor" href="#abbildung-6-6"></a>
</h3>
<p>First the data has to be prepared:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">gender_prepped_mean_sd</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">trend_gender</span>,</span>
<span>  <span class="va">prep_tablebarplot</span>,</span>
<span>  subgroup_var <span class="op">=</span> <span class="st">"Kgender"</span>,</span>
<span>  par <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mean"</span>, <span class="st">"sd"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Let's focus on:</span></span>
<span></span>
<span><span class="va">gender_lesen</span> <span class="op">&lt;-</span> <span class="va">gender_prepped_mean_sd</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span></code></pre></div>
<p>Afterwards, we have to bring it in the format we want to plot it
in:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">gender_lesen</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">gender_lesen</span>, <span class="va">subgroup_var</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"maennlich"</span>, <span class="st">"weiblich"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Mädchen sollen nach oben</span></span>
<span><span class="va">gender_lesen</span> <span class="op">&lt;-</span> <span class="va">gender_lesen</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html" class="external-link">order</a></span><span class="op">(</span><span class="va">gender_lesen</span><span class="op">$</span><span class="va">subgroup_var</span>, decreasing <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>, <span class="op">]</span></span>
<span><span class="va">gender_lesen</span> <span class="op">&lt;-</span> <span class="va">gender_lesen</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html" class="external-link">order</a></span><span class="op">(</span><span class="va">gender_lesen</span><span class="op">$</span><span class="va">state_var</span><span class="op">)</span>, <span class="op">]</span></span>
<span></span>
<span><span class="va">gender_lesen</span><span class="op">$</span><span class="va">state_var</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/duplicated.html" class="external-link">duplicated</a></span><span class="op">(</span><span class="va">gender_lesen</span><span class="op">$</span><span class="va">state_var</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">" "</span></span>
<span><span class="va">gender_lesen</span><span class="op">$</span><span class="va">state_var</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/process_bundesland.html">process_bundesland</a></span><span class="op">(</span><span class="va">gender_lesen</span><span class="op">$</span><span class="va">state_var</span>, linebreak <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">gender_lesen</span><span class="op">$</span><span class="va">subgroup_var</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">gsub</a></span><span class="op">(</span><span class="st">"maennlich"</span>, <span class="st">"Jungen"</span>, <span class="va">gender_lesen</span><span class="op">$</span><span class="va">subgroup_var</span><span class="op">)</span></span>
<span><span class="va">gender_lesen</span><span class="op">$</span><span class="va">subgroup_var</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">gsub</a></span><span class="op">(</span><span class="st">"weiblich"</span>, <span class="st">"Mädchen"</span>, <span class="va">gender_lesen</span><span class="op">$</span><span class="va">subgroup_var</span><span class="op">)</span></span>
<span><span class="va">gender_lesen</span><span class="op">$</span><span class="va">empty</span> <span class="op">&lt;-</span> <span class="st">""</span></span></code></pre></div>
<p>We will have to plot multiple plots and combine them. To do that, we
will have to set the column widths, so they are identical over the
different plots:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">column_widths_stand</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/standardize_column_width.html">standardize_column_width</a></span><span class="op">(</span></span>
<span>  column_widths <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    p1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.085</span>, <span class="fl">0.05</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0.035</span>, <span class="fl">6</span><span class="op">)</span>, <span class="fl">0.015</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0.035</span>, <span class="fl">3</span><span class="op">)</span>, <span class="cn">NA</span><span class="op">)</span>,</span>
<span>    p2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0.035</span>, <span class="fl">3</span><span class="op">)</span>, <span class="cn">NA</span><span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  plot_ranges <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">142</span>, <span class="fl">142</span><span class="op">)</span> <span class="co"># Ranges of the x-axes of both plots set in 'axis_x_lims'.</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>We can just use this object in the plot-settings to adjust the column
widths.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p_1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/plot_tablebarplot.html">plot_tablebarplot</a></span><span class="op">(</span></span>
<span>  dat <span class="op">=</span> <span class="va">gender_lesen</span>,</span>
<span>  bar_est <span class="op">=</span> <span class="st">"est_mean_comp_trend_sameFacet_sameSubgroup_2009_2015"</span>,</span>
<span>  bar_label <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  bar_sig <span class="op">=</span> <span class="st">"sig_mean_comp_trend_sameFacet_sameSubgroup_2009_2015"</span>,</span>
<span>  bar_fill <span class="op">=</span> <span class="st">"subgroup_var"</span>,</span>
<span>  column_spanners <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="st">"**2009**"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">4</span><span class="op">)</span>,</span>
<span>    <span class="st">"**2015**"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">6</span><span class="op">)</span>,</span>
<span>    <span class="st">"**2022**"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">7</span>, <span class="fl">8</span><span class="op">)</span>,</span>
<span>    <span class="st">"**Differenz 2015-2009**"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">13</span><span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  columns_table_se <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="cn">NULL</span>, <span class="cn">NULL</span>, <span class="cn">NULL</span>, <span class="cn">NULL</span>, <span class="cn">NULL</span>, <span class="cn">NULL</span>, <span class="cn">NULL</span>, <span class="cn">NULL</span>, <span class="cn">NULL</span>, <span class="cn">NULL</span>, <span class="st">"se_mean_comp_trend_sameFacet_sameSubgroup_2009_2015"</span>, <span class="cn">NULL</span><span class="op">)</span>,</span>
<span>  headers <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"**Land**"</span>, <span class="st">" "</span>, <span class="st">"*M*"</span>, <span class="st">"*SD*"</span>, <span class="st">"*M*"</span>, <span class="st">"*SD*"</span>, <span class="st">"*M*"</span>, <span class="st">"*SD*"</span>, <span class="st">""</span>, <span class="st">"*M&lt;sub&gt;2015&lt;/sub&gt;-&lt;br&gt;M&lt;sub&gt;2009&lt;/sub&gt;* "</span>, <span class="st">"*(SE)*"</span>, <span class="st">"*d*"</span>, <span class="st">" "</span><span class="op">)</span>,</span>
<span>  columns_table <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"state_var"</span>, <span class="st">"subgroup_var"</span>, <span class="st">"est_mean_comp_none_2009"</span>, <span class="st">"est_sd_comp_none_2009"</span>, <span class="st">"est_mean_comp_none_2015"</span>, <span class="st">"est_sd_comp_none_2015"</span>, <span class="st">"est_mean_comp_none_2022"</span>, <span class="st">"est_sd_comp_none_2022"</span>, <span class="st">"empty"</span>, <span class="st">"est_mean_comp_trend_sameFacet_sameSubgroup_2009_2015"</span>, <span class="st">"se_mean_comp_trend_sameFacet_sameSubgroup_2009_2015"</span>, <span class="st">"es_mean_comp_trend_sameFacet_sameSubgroup_2009_2015"</span><span class="op">)</span>,</span>
<span>  columns_table_sig_bold <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="cn">NULL</span>, <span class="cn">NULL</span>, <span class="st">"sig_mean_comp_none_2009"</span>,</span>
<span>    <span class="cn">NULL</span>, <span class="st">"sig_mean_comp_none_2015"</span>, <span class="cn">NULL</span>, <span class="st">"sig_mean_comp_none_2022"</span>, <span class="cn">NULL</span>, <span class="cn">NULL</span>, <span class="st">"sig_mean_comp_trend_sameFacet_sameSubgroup_2009_2015"</span>, <span class="cn">NULL</span>, <span class="st">"sig_mean_comp_trend_sameFacet_sameSubgroup_2009_2015"</span></span>
<span>  <span class="op">)</span>,</span>
<span>  columns_table_sig_superscript <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="cn">NULL</span>, <span class="cn">NULL</span>, <span class="cn">NULL</span>, <span class="cn">NULL</span>, <span class="cn">NULL</span>, <span class="cn">NULL</span>, <span class="cn">NULL</span>, <span class="cn">NULL</span>, <span class="cn">NULL</span>, <span class="st">"sig_mean_comp_trend_crossDiff_totalFacet_sameSubgroup_2009_2015"</span>, <span class="cn">NULL</span>, <span class="cn">NULL</span><span class="op">)</span>,</span>
<span>  y_axis <span class="op">=</span> <span class="st">"y_axis"</span>,</span>
<span>  columns_round <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">11</span><span class="op">)</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>  plot_settings <span class="op">=</span> <span class="fu"><a href="../reference/plotsettings_tablebarplot.html">plotsettings_tablebarplot</a></span><span class="op">(</span></span>
<span>    bar_pattern_spacing <span class="op">=</span> <span class="fl">0.0184</span>, <span class="co">## We calculated this below in standardize_pattern_spacing()</span></span>
<span>    columns_alignment <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    columns_width <span class="op">=</span> <span class="va">column_widths_stand</span><span class="op">$</span><span class="va">p1</span>, <span class="co">## This is the column-width object we set above</span></span>
<span>    columns_nudge_y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">0.5</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">11</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    headers_alignment <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">7</span><span class="op">)</span>, <span class="fl">0</span>, <span class="fl">0.5</span>, <span class="fl">0.5</span>, <span class="fl">0</span><span class="op">)</span>,</span>
<span>    headers_nudge_x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">9</span><span class="op">)</span>, <span class="fl">2</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span>, </span>
<span>    default_list <span class="op">=</span> <span class="va">abb_6.6</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">p_2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/plot_tablebarplot.html">plot_tablebarplot</a></span><span class="op">(</span></span>
<span>  dat <span class="op">=</span> <span class="va">gender_lesen</span>,</span>
<span>  bar_est <span class="op">=</span> <span class="st">"est_mean_comp_trend_sameFacet_sameSubgroup_2015_2022"</span>,</span>
<span>  bar_label <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  bar_sig <span class="op">=</span> <span class="st">"sig_mean_comp_trend_sameFacet_sameSubgroup_2015_2022"</span>,</span>
<span>  bar_fill <span class="op">=</span> <span class="st">"subgroup_var"</span>,</span>
<span>  column_spanners <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="st">"**Differenz 2022-2015**"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">4</span><span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  headers <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="st">"*M&lt;sub&gt;2022&lt;/sub&gt;-&lt;br&gt;M&lt;sub&gt;2015&lt;/sub&gt;* "</span>,</span>
<span>    <span class="st">"*(SE)*"</span>,</span>
<span>    <span class="st">"*d*"</span>,</span>
<span>    <span class="st">" "</span></span>
<span>  <span class="op">)</span>,</span>
<span>  columns_table <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="st">"est_mean_comp_trend_sameFacet_sameSubgroup_2015_2022"</span>,</span>
<span>    <span class="st">"se_mean_comp_trend_sameFacet_sameSubgroup_2015_2022"</span>,</span>
<span>    <span class="st">"es_mean_comp_trend_sameFacet_sameSubgroup_2015_2022"</span></span>
<span>  <span class="op">)</span>,</span>
<span>  columns_table_se <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="cn">NULL</span>, <span class="st">"se_mean_comp_trend_sameFacet_sameSubgroup_2015_2022"</span>, <span class="cn">NULL</span><span class="op">)</span>,</span>
<span>  columns_table_sig_bold <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"sig_mean_comp_trend_sameFacet_sameSubgroup_2015_2022"</span>, <span class="cn">NULL</span>, <span class="st">"sig_mean_comp_trend_sameFacet_sameSubgroup_2015_2022"</span><span class="op">)</span>,</span>
<span>  columns_table_sig_superscript <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"sig_mean_comp_trend_crossDiff_totalFacet_sameSubgroup_2015_2022"</span>, <span class="cn">NULL</span>, <span class="cn">NULL</span><span class="op">)</span>,</span>
<span>  y_axis <span class="op">=</span> <span class="st">"y_axis"</span>,</span>
<span>  columns_round <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>  plot_settings <span class="op">=</span> <span class="fu"><a href="../reference/plotsettings_tablebarplot.html">plotsettings_tablebarplot</a></span><span class="op">(</span></span>
<span>    bar_pattern_spacing <span class="op">=</span> <span class="fl">0.0316</span>, <span class="co">## We calculated this below in standardize_pattern_spacing()</span></span>
<span>    columns_alignment <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>    columns_width <span class="op">=</span> <span class="va">column_widths_stand</span><span class="op">$</span><span class="va">p2</span>, <span class="co">## This is the column-width object we set above</span></span>
<span>    headers_nudge_x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span>,</span>
<span>    headers_alignment <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0.5</span>, <span class="fl">0.5</span>, <span class="fl">0</span><span class="op">)</span>,</span>
<span>    default_list <span class="op">=</span> <span class="va">abb_6.6</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>It might be necessary to standardize the pattern spacing over the
plots:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">bar_pattern_spacing_stand</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/standardize_pattern_spacing.html">standardize_pattern_spacing</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">p_1</span>, <span class="va">p_2</span><span class="op">)</span>, pattern_spacing <span class="op">=</span> <span class="fl">0.05</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Next Step: Update the bar_pattern_spacing values in your respective plots with the output values.</span></span></code></pre>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">bar_pattern_spacing_stand</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 0.0159 0.0341</span></span></code></pre>
<p>These values have to be set in the plot-settings above.</p>
<p>Now we can combine the plots:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tableplot_6.6</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/combine_plots.html">combine_plots</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">p_1</span>, <span class="va">p_2</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>And save the result:</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/save_plot.html">save_plot</a></span><span class="op">(</span><span class="va">tableplot_6.6</span>, filename <span class="op">=</span> <span class="st">"C:/Users/hafiznij/Downloads/abb_6.6.pdf"</span>, width <span class="op">=</span> <span class="fl">235</span>, height <span class="op">=</span> <span class="fl">130</span>, scaling <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<p><img src="tableplots_files/figure-html/unnamed-chunk-16-1.png" width="700"></p>
</div>
</div>
<div class="section level2">
<h2 id="zuwanderungskapitel">Zuwanderungskapitel<a class="anchor" aria-label="anchor" href="#zuwanderungskapitel"></a>
</h2>
<p>Currently use the <code>gender_trend</code> data.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">gender_prepped_2</span> <span class="op">&lt;-</span> <span class="va">gender_prepped</span><span class="op">[</span><span class="va">gender_prepped</span><span class="op">$</span><span class="va">kb</span> <span class="op">==</span> <span class="st">"lesen"</span>, <span class="op">]</span></span>
<span><span class="va">gender_prepped_2</span><span class="op">$</span><span class="va">empty</span> <span class="op">&lt;-</span> <span class="st">""</span> <span class="co">## Needes as a empty space between column spanners</span></span>
<span><span class="va">gender_prepped_2</span><span class="op">$</span><span class="va">state_var</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/process_bundesland.html">process_bundesland</a></span><span class="op">(</span><span class="va">gender_prepped_2</span><span class="op">$</span><span class="va">state_var</span>, linebreak <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">column_widths_stand</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/standardize_column_width.html">standardize_column_width</a></span><span class="op">(</span></span>
<span>  column_widths <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    p1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.16</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0.045</span>, <span class="fl">5</span><span class="op">)</span>, <span class="cn">NA</span><span class="op">)</span>,</span>
<span>    p2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.015</span>, <span class="fl">0.07</span>, <span class="fl">0.045</span>, <span class="cn">NA</span><span class="op">)</span>,</span>
<span>    p3 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.07</span>, <span class="fl">0.045</span>, <span class="cn">NA</span><span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  plot_ranges <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">60</span>, <span class="fl">60</span>, <span class="fl">65</span><span class="op">)</span> <span class="co"># Range of the x-axes of both plots set in 'axis_x_lims'.</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p_1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/plot_tablebarplot.html">plot_tablebarplot</a></span><span class="op">(</span></span>
<span>  dat <span class="op">=</span> <span class="va">gender_prepped_2</span>,</span>
<span>  bar_est <span class="op">=</span> <span class="st">"est_mean_comp_groupDiff_sameFacet_weiblichSubgroup_2022"</span>,</span>
<span>  bar_sig <span class="op">=</span> <span class="st">"sig_mean_comp_groupDiff_sameFacet_weiblichSubgroup_2022"</span>,</span>
<span>  column_spanners <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="st">"**2009**"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span>,</span>
<span>    <span class="st">"**2015**"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span><span class="op">)</span>,</span>
<span>    <span class="st">"**2022**"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">7</span><span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  column_spanners_2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="st">"**Differenz Schüler:innen mit - Schüler:innen ohne &lt;br&gt; Zuwanderungshintergrund**"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">7</span><span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  columns_table_se <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="cn">NULL</span>, <span class="cn">NULL</span>, <span class="cn">NULL</span>, <span class="cn">NULL</span>, <span class="st">"se_mean_comp_groupDiff_sameFacet_weiblichSubgroup_2022"</span>, <span class="cn">NULL</span><span class="op">)</span>,</span>
<span>  headers <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="st">"bold(Land)"</span>,</span>
<span>    <span class="st">"italic(Delta * M)"</span>,</span>
<span>    <span class="st">"italic(Delta * M)"</span>,</span>
<span>    <span class="st">"italic(Delta * M)"</span>,</span>
<span>    <span class="st">"italic((SE))"</span>,</span>
<span>    <span class="st">"italic(d)"</span>,</span>
<span>    <span class="st">" "</span></span>
<span>  <span class="op">)</span>,</span>
<span>  columns_table <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="st">"state_var"</span>,</span>
<span>    <span class="st">"est_mean_comp_groupDiff_sameFacet_weiblichSubgroup_2009"</span>,</span>
<span>    <span class="st">"est_mean_comp_groupDiff_sameFacet_weiblichSubgroup_2015"</span>,</span>
<span>    <span class="st">"est_mean_comp_groupDiff_sameFacet_weiblichSubgroup_2022"</span>,</span>
<span>    <span class="st">"se_mean_comp_groupDiff_sameFacet_weiblichSubgroup_2022"</span>,</span>
<span>    <span class="st">"es_mean_comp_groupDiff_sameFacet_weiblichSubgroup_2022"</span></span>
<span>  <span class="op">)</span>,</span>
<span>  columns_table_sig_bold <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="cn">NULL</span>,</span>
<span>    <span class="st">"sig_mean_comp_groupDiff_sameFacet_weiblichSubgroup_2009"</span>,</span>
<span>    <span class="st">"sig_mean_comp_groupDiff_sameFacet_weiblichSubgroup_2015"</span>,</span>
<span>    <span class="st">"sig_mean_comp_groupDiff_sameFacet_weiblichSubgroup_2022"</span>,</span>
<span>    <span class="cn">NULL</span>,</span>
<span>    <span class="st">"sig_mean_comp_groupDiff_sameFacet_weiblichSubgroup_2022"</span></span>
<span>  <span class="op">)</span>,</span>
<span>  y_axis <span class="op">=</span> <span class="st">"y_axis"</span>,</span>
<span>  columns_round <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>  plot_settings <span class="op">=</span> <span class="fu"><a href="../reference/plotsettings_tablebarplot.html">plotsettings_tablebarplot</a></span><span class="op">(</span></span>
<span>    bar_pattern_spacing <span class="op">=</span> <span class="fl">0.0274</span>,</span>
<span>    columns_alignment <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0.5</span>, <span class="fl">0.5</span>, <span class="fl">0.5</span>, <span class="fl">0.5</span>, <span class="fl">0.5</span><span class="op">)</span>,</span>
<span>    columns_width <span class="op">=</span> <span class="va">column_widths_stand</span><span class="op">$</span><span class="va">p1</span>,</span>
<span>    default_list <span class="op">=</span> <span class="va">abb_8.4</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p_2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/plot_tablebarplot.html">plot_tablebarplot</a></span><span class="op">(</span></span>
<span>  dat <span class="op">=</span> <span class="va">gender_prepped_2</span>,</span>
<span>  bar_est <span class="op">=</span> <span class="st">"est_mean_comp_trend_groupDiff_sameFacet_weiblichSubgroup_2009_2015"</span>,</span>
<span>  bar_sig <span class="op">=</span> <span class="st">"sig_mean_comp_trend_groupDiff_sameFacet_weiblichSubgroup_2009_2015"</span>,</span>
<span>  column_spanners <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="st">"**2015-2009**"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">4</span><span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  column_spanners_2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="st">"**Veränderung der Differenz&lt;br&gt;**"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">4</span><span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  columns_table_se <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="cn">NULL</span>, <span class="cn">NULL</span>, <span class="st">"se_mean_comp_trend_groupDiff_sameFacet_weiblichSubgroup_2009_2015"</span><span class="op">)</span>,</span>
<span>  headers <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="st">" "</span>,</span>
<span>    <span class="st">"atop(paste(italic(Delta * M[2015]), \"\U2212\"),</span></span>
<span><span class="st">          italic(Delta * M[2009]))"</span>,</span>
<span>    <span class="co"># "*\u0394 M*",</span></span>
<span>    <span class="st">"italic((SE))"</span>,</span>
<span>    <span class="st">" "</span></span>
<span>  <span class="op">)</span>,</span>
<span>  columns_table <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="st">"empty"</span>,</span>
<span>    <span class="st">"est_mean_comp_trend_groupDiff_sameFacet_weiblichSubgroup_2009_2015"</span>,</span>
<span>    <span class="st">"se_mean_comp_trend_groupDiff_sameFacet_weiblichSubgroup_2009_2015"</span></span>
<span>  <span class="op">)</span>,</span>
<span>  columns_table_sig_bold <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="cn">NULL</span>, <span class="st">"sig_mean_comp_trend_groupDiff_sameFacet_weiblichSubgroup_2009_2015"</span>, <span class="cn">NULL</span></span>
<span>  <span class="op">)</span>,</span>
<span>  y_axis <span class="op">=</span> <span class="st">"y_axis"</span>,</span>
<span>  plot_settings <span class="op">=</span></span>
<span>    <span class="fu"><a href="../reference/plotsettings_tablebarplot.html">plotsettings_tablebarplot</a></span><span class="op">(</span></span>
<span>      bar_pattern_spacing <span class="op">=</span> <span class="fl">0.0334</span>,</span>
<span>      columns_alignment <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>      headers_alignment <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">0.5</span>, <span class="fl">0</span><span class="op">)</span>,</span>
<span>      headers_nudge_x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">4</span>, <span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span>,</span>
<span>      columns_width <span class="op">=</span> <span class="va">column_widths_stand</span><span class="op">$</span><span class="va">p2</span>,</span>
<span>      default_list <span class="op">=</span> <span class="va">abb_8.4</span></span>
<span>    <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p_3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/plot_tablebarplot.html">plot_tablebarplot</a></span><span class="op">(</span></span>
<span>  dat <span class="op">=</span> <span class="va">gender_prepped_2</span>,</span>
<span>  bar_est <span class="op">=</span> <span class="st">"est_mean_comp_trend_groupDiff_sameFacet_weiblichSubgroup_2015_2022"</span>,</span>
<span>  bar_sig <span class="op">=</span> <span class="st">"sig_mean_comp_trend_groupDiff_sameFacet_weiblichSubgroup_2015_2022"</span>,</span>
<span>  column_spanners <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="st">"**2022-2015**"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">3</span><span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  column_spanners_2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="st">"**Veränderung der Differenz&lt;br&gt;**"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">3</span><span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  columns_table_se <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="cn">NULL</span>, <span class="st">"se_mean_comp_trend_groupDiff_sameFacet_weiblichSubgroup_2015_2022"</span><span class="op">)</span>,</span>
<span>  headers <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="st">"atop(paste(italic(Delta * M[2022]), \"\U2212\"),</span></span>
<span><span class="st">          italic(Delta * M[2015]))"</span>,</span>
<span>    <span class="st">"italic((SE))"</span>,</span>
<span>    <span class="st">" "</span></span>
<span>  <span class="op">)</span>,</span>
<span>  columns_table <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="st">"est_mean_comp_trend_groupDiff_sameFacet_weiblichSubgroup_2015_2022"</span>,</span>
<span>    <span class="st">"se_mean_comp_trend_groupDiff_sameFacet_weiblichSubgroup_2015_2022"</span></span>
<span>  <span class="op">)</span>,</span>
<span>  columns_table_sig_bold <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="st">"sig_mean_comp_trend_groupDiff_sameFacet_weiblichSubgroup_2015_2022"</span>, <span class="cn">NULL</span></span>
<span>  <span class="op">)</span>,</span>
<span>  y_axis <span class="op">=</span> <span class="st">"y_axis"</span>,</span>
<span>  plot_settings <span class="op">=</span> <span class="fu"><a href="../reference/plotsettings_tablebarplot.html">plotsettings_tablebarplot</a></span><span class="op">(</span></span>
<span>    bar_pattern_spacing <span class="op">=</span> <span class="fl">0.0392</span>,</span>
<span>    axis_x_lims <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">20</span>, <span class="fl">45</span><span class="op">)</span>,</span>
<span>    columns_alignment <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>    headers_alignment <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">0.5</span>, <span class="fl">0</span><span class="op">)</span>,</span>
<span>    headers_nudge_x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span>,</span>
<span>    columns_width <span class="op">=</span> <span class="va">column_widths_stand</span><span class="op">$</span><span class="va">p3</span>,</span>
<span>    default_list <span class="op">=</span> <span class="va">abb_8.4</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">bar_pattern_spacing_stand</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/standardize_pattern_spacing.html">standardize_pattern_spacing</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">p_1</span>, <span class="va">p_2</span>, <span class="va">p_3</span><span class="op">)</span>, pattern_spacing <span class="op">=</span> <span class="fl">0.05</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Next Step: Update the bar_pattern_spacing values in your respective plots with the output values.</span></span></code></pre>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tableplot_8.4</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/combine_plots.html">combine_plots</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">p_1</span>, <span class="va">p_2</span>, <span class="va">p_3</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/save_plot.html">save_plot</a></span><span class="op">(</span><span class="va">tableplot_8.4</span>,</span>
<span>  filename <span class="op">=</span> <span class="st">"C:/Users/hafiznij/Downloads/abb_8.4.pdf"</span>,</span>
<span>  width <span class="op">=</span> <span class="fl">160</span>, height <span class="op">=</span> <span class="fl">100</span>, scaling <span class="op">=</span> <span class="fl">1</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tableplot_8.4</span></span></code></pre></div>
<p><img src="tableplots_files/figure-html/unnamed-chunk-25-1.png" width="700"></p>
<div class="section level3">
<h3 id="stacked-barplot">Stacked barplot<a class="anchor" aria-label="anchor" href="#stacked-barplot"></a>
</h3>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Nicklas Hafiz.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
