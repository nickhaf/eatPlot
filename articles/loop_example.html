<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Mehrere Kompetenzbereiche: Schleifen • eatPlot</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Mehrere Kompetenzbereiche: Schleifen">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">eatPlot</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.0.9001</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/faq_bt24.html">FAQ BT24</a></li>
    <li><a class="dropdown-item" href="../articles/lineplots.html">Lineplots</a></li>
    <li><a class="dropdown-item" href="../articles/loop_example.html">Mehrere Kompetenzbereiche: Schleifen</a></li>
    <li><a class="dropdown-item" href="../articles/plot_settings.html">Plot settings</a></li>
    <li><a class="dropdown-item" href="../articles/tableplots.html">Tableplots</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Mehrere Kompetenzbereiche: Schleifen</h1>
            
      

      <div class="d-none name"><code>loop_example.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://nickhaf.github.io/eatPlot/">eatPlot</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="data-preperation">Data preperation<a class="anchor" aria-label="anchor" href="#data-preperation"></a>
</h2>
<p>The data we are using in this example is nexted into multiple
competence areas. Let’s take a look:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">dispar</span><span class="op">)</span></span>
<span><span class="co">#&gt; List of 5</span></span>
<span><span class="co">#&gt;  $ hoeren:List of 4</span></span>
<span><span class="co">#&gt;   ..$ plain      :'data.frame':  2331 obs. of  17 variables:</span></span>
<span><span class="co">#&gt;   .. ..$ label1       : chr [1:2331] "trend (2015 - 2009) for BadenWuerttemberg_maennlich" "trend (2015 - 2009) for crossDiff (BadenWuerttemberg_maennlich - BadenWuerttemberg_total) " "trend (2015 - 2009) of groupDiff (maennlich - weiblich) in TR_BUNDESLAND=BadenWuerttemberg" "trend (2015 - 2009) for BadenWuerttemberg_total" ...</span></span>
<span><span class="co">#&gt;   .. ..$ label2       : chr [1:2331] "year=2015 - year=2009: TR_BUNDESLAND=BadenWuerttemberg, Kgender=maennlich" "[year=2015: (TR_BUNDESLAND=BadenWuerttemberg, Kgender=maennlich)] - [year=2009: (TR_BUNDESLAND=BadenWuerttember"| __truncated__ "[year=2015: (TR_BUNDESLAND=BadenWuerttemberg, Kgender=maennlich) - (TR_BUNDESLAND=BadenWuerttemberg, Kgender=we"| __truncated__ "year=2015 - year=2009: TR_BUNDESLAND=BadenWuerttemberg, Kgender=total" ...</span></span>
<span><span class="co">#&gt;   .. ..$ unit_1       : chr [1:2331] "group_31" "comp_757" "comp_154" "group_202" ...</span></span>
<span><span class="co">#&gt;   .. ..$ unit_2       : chr [1:2331] "group_225" "comp_1373" "comp_307" "group_339" ...</span></span>
<span><span class="co">#&gt;   .. ..$ depVar       : chr [1:2331] "bista" "bista" "bista" "bista" ...</span></span>
<span><span class="co">#&gt;   .. ..$ modus        : chr [1:2331] "JK2.mean__BIFIEsurvey" "JK2.mean__BIFIEsurvey" "JK2.mean__BIFIEsurvey" "JK2.mean__BIFIEsurvey" ...</span></span>
<span><span class="co">#&gt;   .. ..$ parameter    : chr [1:2331] "mean" "mean" "mean" "mean" ...</span></span>
<span><span class="co">#&gt;   .. ..$ comparison   : chr [1:2331] "trend" "trend_crossDiff" "trend_groupDiff" "trend" ...</span></span>
<span><span class="co">#&gt;   .. ..$ TR_BUNDESLAND: chr [1:2331] "BadenWuerttemberg" "BadenWuerttemberg" "BadenWuerttemberg" "BadenWuerttemberg" ...</span></span>
<span><span class="co">#&gt;   .. ..$ Kgender      : chr [1:2331] "maennlich" "maennlich - total" "maennlich - weiblich" "total" ...</span></span>
<span><span class="co">#&gt;   .. ..$ year         : chr [1:2331] "2015 - 2009" "2015 - 2009" "2015 - 2009" "2015 - 2009" ...</span></span>
<span><span class="co">#&gt;   .. ..$ id           : chr [1:2331] "comp_32" "comp_758" "comp_155" "comp_203" ...</span></span>
<span><span class="co">#&gt;   .. ..$ kb           : chr [1:2331] "hoeren" "hoeren" "hoeren" "hoeren" ...</span></span>
<span><span class="co">#&gt;   .. ..$ est          : num [1:2331] -40.74 -6.47 12.97 -34.27 -27.77 ...</span></span>
<span><span class="co">#&gt;   .. ..$ se           : num [1:2331] 7.66 9.42 8.18 6.15 6.71 ...</span></span>
<span><span class="co">#&gt;   .. ..$ p            : num [1:2331] 0 0.492 0.113 0 0 0.453 0.004 0 0.605 0.001 ...</span></span>
<span><span class="co">#&gt;   .. ..$ es           : num [1:2331] -0.395 NA NA -0.336 -0.282 NA NA NA NA NA ...</span></span>
<span><span class="co">#&gt;   ..$ comparisons:'data.frame':  1719 obs. of  4 variables:</span></span>
<span><span class="co">#&gt;   .. ..$ id        : chr [1:1719] "comp_32" "comp_758" "comp_155" "comp_203" ...</span></span>
<span><span class="co">#&gt;   .. ..$ unit_1    : chr [1:1719] "group_31" "comp_757" "comp_154" "group_202" ...</span></span>
<span><span class="co">#&gt;   .. ..$ unit_2    : chr [1:1719] "group_225" "comp_1373" "comp_307" "group_339" ...</span></span>
<span><span class="co">#&gt;   .. ..$ comparison: chr [1:1719] "trend" "trend_crossDiff" "trend_groupDiff" "trend" ...</span></span>
<span><span class="co">#&gt;   ..$ group      :'data.frame':  153 obs. of  5 variables:</span></span>
<span><span class="co">#&gt;   .. ..$ id           : chr [1:153] "group_31" "group_202" "group_85" "group_34" ...</span></span>
<span><span class="co">#&gt;   .. ..$ TR_BUNDESLAND: chr [1:153] "BadenWuerttemberg" "BadenWuerttemberg" "BadenWuerttemberg" "Bayern" ...</span></span>
<span><span class="co">#&gt;   .. ..$ Kgender      : chr [1:153] "maennlich" "total" "weiblich" "maennlich" ...</span></span>
<span><span class="co">#&gt;   .. ..$ year         : chr [1:153] "2009" "2009" "2009" "2009" ...</span></span>
<span><span class="co">#&gt;   .. ..$ kb           : chr [1:153] "hoeren" "hoeren" "hoeren" "hoeren" ...</span></span>
<span><span class="co">#&gt;   ..$ estimate   :'data.frame':  2331 obs. of  7 variables:</span></span>
<span><span class="co">#&gt;   .. ..$ id       : chr [1:2331] "comp_32" "comp_758" "comp_155" "comp_203" ...</span></span>
<span><span class="co">#&gt;   .. ..$ depVar   : chr [1:2331] "bista" "bista" "bista" "bista" ...</span></span>
<span><span class="co">#&gt;   .. ..$ parameter: chr [1:2331] "mean" "mean" "mean" "mean" ...</span></span>
<span><span class="co">#&gt;   .. ..$ est      : num [1:2331] -40.74 -6.47 12.97 -34.27 -27.77 ...</span></span>
<span><span class="co">#&gt;   .. ..$ se       : num [1:2331] 7.66 9.42 8.18 6.15 6.71 ...</span></span>
<span><span class="co">#&gt;   .. ..$ p        : num [1:2331] 0 0.492 0.113 0 0 0.453 0.004 0 0.605 0.001 ...</span></span>
<span><span class="co">#&gt;   .. ..$ es       : num [1:2331] -0.395 NA NA -0.336 -0.282 NA NA NA NA NA ...</span></span>
<span><span class="co">#&gt;   ..- attr(*, "class")= chr [1:2] "list" "report2"</span></span>
<span><span class="co">#&gt;  $ lesen :List of 4</span></span>
<span><span class="co">#&gt;   ..$ plain      :'data.frame':  2331 obs. of  17 variables:</span></span>
<span><span class="co">#&gt;   .. ..$ label1       : chr [1:2331] "trend (2015 - 2009) for BadenWuerttemberg_maennlich" "trend (2015 - 2009) for crossDiff (BadenWuerttemberg_maennlich - BadenWuerttemberg_total) " "trend (2015 - 2009) of groupDiff (maennlich - weiblich) in TR_BUNDESLAND=BadenWuerttemberg" "trend (2015 - 2009) for BadenWuerttemberg_total" ...</span></span>
<span><span class="co">#&gt;   .. ..$ label2       : chr [1:2331] "year=2015 - year=2009: TR_BUNDESLAND=BadenWuerttemberg, Kgender=maennlich" "[year=2015: (TR_BUNDESLAND=BadenWuerttemberg, Kgender=maennlich)] - [year=2009: (TR_BUNDESLAND=BadenWuerttember"| __truncated__ "[year=2015: (TR_BUNDESLAND=BadenWuerttemberg, Kgender=maennlich) - (TR_BUNDESLAND=BadenWuerttemberg, Kgender=we"| __truncated__ "year=2015 - year=2009: TR_BUNDESLAND=BadenWuerttemberg, Kgender=total" ...</span></span>
<span><span class="co">#&gt;   .. ..$ unit_1       : chr [1:2331] "group_31" "comp_757" "comp_154" "group_202" ...</span></span>
<span><span class="co">#&gt;   .. ..$ unit_2       : chr [1:2331] "group_225" "comp_1373" "comp_307" "group_339" ...</span></span>
<span><span class="co">#&gt;   .. ..$ depVar       : chr [1:2331] "bista" "bista" "bista" "bista" ...</span></span>
<span><span class="co">#&gt;   .. ..$ modus        : chr [1:2331] "JK2.mean__BIFIEsurvey" "JK2.mean__BIFIEsurvey" "JK2.mean__BIFIEsurvey" "JK2.mean__BIFIEsurvey" ...</span></span>
<span><span class="co">#&gt;   .. ..$ parameter    : chr [1:2331] "mean" "mean" "mean" "mean" ...</span></span>
<span><span class="co">#&gt;   .. ..$ comparison   : chr [1:2331] "trend" "trend_crossDiff" "trend_groupDiff" "trend" ...</span></span>
<span><span class="co">#&gt;   .. ..$ TR_BUNDESLAND: chr [1:2331] "BadenWuerttemberg" "BadenWuerttemberg" "BadenWuerttemberg" "BadenWuerttemberg" ...</span></span>
<span><span class="co">#&gt;   .. ..$ Kgender      : chr [1:2331] "maennlich" "maennlich - total" "maennlich - weiblich" "total" ...</span></span>
<span><span class="co">#&gt;   .. ..$ year         : chr [1:2331] "2015 - 2009" "2015 - 2009" "2015 - 2009" "2015 - 2009" ...</span></span>
<span><span class="co">#&gt;   .. ..$ id           : chr [1:2331] "comp_32" "comp_758" "comp_155" "comp_203" ...</span></span>
<span><span class="co">#&gt;   .. ..$ kb           : chr [1:2331] "lesen" "lesen" "lesen" "lesen" ...</span></span>
<span><span class="co">#&gt;   .. ..$ est          : num [1:2331] -27.76 -3.48 6.9 -24.28 -20.86 ...</span></span>
<span><span class="co">#&gt;   .. ..$ se           : num [1:2331] 8.9 10.97 7.93 6.81 6.51 ...</span></span>
<span><span class="co">#&gt;   .. ..$ p            : num [1:2331] 0.002 0.751 0.385 0 0.001 0.709 0.196 0.077 0.824 0.074 ...</span></span>
<span><span class="co">#&gt;   .. ..$ es           : num [1:2331] -0.271 NA NA -0.246 -0.226 NA NA NA NA NA ...</span></span>
<span><span class="co">#&gt;   ..$ comparisons:'data.frame':  1719 obs. of  4 variables:</span></span>
<span><span class="co">#&gt;   .. ..$ id        : chr [1:1719] "comp_32" "comp_758" "comp_155" "comp_203" ...</span></span>
<span><span class="co">#&gt;   .. ..$ unit_1    : chr [1:1719] "group_31" "comp_757" "comp_154" "group_202" ...</span></span>
<span><span class="co">#&gt;   .. ..$ unit_2    : chr [1:1719] "group_225" "comp_1373" "comp_307" "group_339" ...</span></span>
<span><span class="co">#&gt;   .. ..$ comparison: chr [1:1719] "trend" "trend_crossDiff" "trend_groupDiff" "trend" ...</span></span>
<span><span class="co">#&gt;   ..$ group      :'data.frame':  153 obs. of  5 variables:</span></span>
<span><span class="co">#&gt;   .. ..$ id           : chr [1:153] "group_31" "group_202" "group_85" "group_34" ...</span></span>
<span><span class="co">#&gt;   .. ..$ TR_BUNDESLAND: chr [1:153] "BadenWuerttemberg" "BadenWuerttemberg" "BadenWuerttemberg" "Bayern" ...</span></span>
<span><span class="co">#&gt;   .. ..$ Kgender      : chr [1:153] "maennlich" "total" "weiblich" "maennlich" ...</span></span>
<span><span class="co">#&gt;   .. ..$ year         : chr [1:153] "2009" "2009" "2009" "2009" ...</span></span>
<span><span class="co">#&gt;   .. ..$ kb           : chr [1:153] "lesen" "lesen" "lesen" "lesen" ...</span></span>
<span><span class="co">#&gt;   ..$ estimate   :'data.frame':  2331 obs. of  7 variables:</span></span>
<span><span class="co">#&gt;   .. ..$ id       : chr [1:2331] "comp_32" "comp_758" "comp_155" "comp_203" ...</span></span>
<span><span class="co">#&gt;   .. ..$ depVar   : chr [1:2331] "bista" "bista" "bista" "bista" ...</span></span>
<span><span class="co">#&gt;   .. ..$ parameter: chr [1:2331] "mean" "mean" "mean" "mean" ...</span></span>
<span><span class="co">#&gt;   .. ..$ est      : num [1:2331] -27.76 -3.48 6.9 -24.28 -20.86 ...</span></span>
<span><span class="co">#&gt;   .. ..$ se       : num [1:2331] 8.9 10.97 7.93 6.81 6.51 ...</span></span>
<span><span class="co">#&gt;   .. ..$ p        : num [1:2331] 0.002 0.751 0.385 0 0.001 0.709 0.196 0.077 0.824 0.074 ...</span></span>
<span><span class="co">#&gt;   .. ..$ es       : num [1:2331] -0.271 NA NA -0.246 -0.226 NA NA NA NA NA ...</span></span>
<span><span class="co">#&gt;   ..- attr(*, "class")= chr [1:2] "list" "report2"</span></span>
<span><span class="co">#&gt;  $ listen:List of 4</span></span>
<span><span class="co">#&gt;   ..$ plain      :'data.frame':  2331 obs. of  17 variables:</span></span>
<span><span class="co">#&gt;   .. ..$ label1       : chr [1:2331] "trend (2015 - 2009) for BadenWuerttemberg_maennlich" "trend (2015 - 2009) for crossDiff (BadenWuerttemberg_maennlich - BadenWuerttemberg_total) " "trend (2015 - 2009) of groupDiff (maennlich - weiblich) in TR_BUNDESLAND=BadenWuerttemberg" "trend (2015 - 2009) for BadenWuerttemberg_total" ...</span></span>
<span><span class="co">#&gt;   .. ..$ label2       : chr [1:2331] "year=2015 - year=2009: TR_BUNDESLAND=BadenWuerttemberg, Kgender=maennlich" "[year=2015: (TR_BUNDESLAND=BadenWuerttemberg, Kgender=maennlich)] - [year=2009: (TR_BUNDESLAND=BadenWuerttember"| __truncated__ "[year=2015: (TR_BUNDESLAND=BadenWuerttemberg, Kgender=maennlich) - (TR_BUNDESLAND=BadenWuerttemberg, Kgender=we"| __truncated__ "year=2015 - year=2009: TR_BUNDESLAND=BadenWuerttemberg, Kgender=total" ...</span></span>
<span><span class="co">#&gt;   .. ..$ unit_1       : chr [1:2331] "group_31" "comp_757" "comp_154" "group_202" ...</span></span>
<span><span class="co">#&gt;   .. ..$ unit_2       : chr [1:2331] "group_225" "comp_1373" "comp_307" "group_339" ...</span></span>
<span><span class="co">#&gt;   .. ..$ depVar       : chr [1:2331] "bista" "bista" "bista" "bista" ...</span></span>
<span><span class="co">#&gt;   .. ..$ modus        : chr [1:2331] "JK2.mean__BIFIEsurvey" "JK2.mean__BIFIEsurvey" "JK2.mean__BIFIEsurvey" "JK2.mean__BIFIEsurvey" ...</span></span>
<span><span class="co">#&gt;   .. ..$ parameter    : chr [1:2331] "mean" "mean" "mean" "mean" ...</span></span>
<span><span class="co">#&gt;   .. ..$ comparison   : chr [1:2331] "trend" "trend_crossDiff" "trend_groupDiff" "trend" ...</span></span>
<span><span class="co">#&gt;   .. ..$ TR_BUNDESLAND: chr [1:2331] "BadenWuerttemberg" "BadenWuerttemberg" "BadenWuerttemberg" "BadenWuerttemberg" ...</span></span>
<span><span class="co">#&gt;   .. ..$ Kgender      : chr [1:2331] "maennlich" "maennlich - total" "maennlich - weiblich" "total" ...</span></span>
<span><span class="co">#&gt;   .. ..$ year         : chr [1:2331] "2015 - 2009" "2015 - 2009" "2015 - 2009" "2015 - 2009" ...</span></span>
<span><span class="co">#&gt;   .. ..$ id           : chr [1:2331] "comp_32" "comp_758" "comp_155" "comp_203" ...</span></span>
<span><span class="co">#&gt;   .. ..$ kb           : chr [1:2331] "listen" "listen" "listen" "listen" ...</span></span>
<span><span class="co">#&gt;   .. ..$ est          : num [1:2331] 5.73 -2.36 4.88 8.09 10.61 ...</span></span>
<span><span class="co">#&gt;   .. ..$ se           : num [1:2331] 6.64 8.62 6.91 5.82 6.67 ...</span></span>
<span><span class="co">#&gt;   .. ..$ p            : num [1:2331] 0.388 0.784 0.48 0.165 0.112 0.77 0.045 0.05 0.439 0.067 ...</span></span>
<span><span class="co">#&gt;   .. ..$ es           : num [1:2331] 0.063 NA NA 0.091 0.125 NA NA NA NA NA ...</span></span>
<span><span class="co">#&gt;   ..$ comparisons:'data.frame':  1719 obs. of  4 variables:</span></span>
<span><span class="co">#&gt;   .. ..$ id        : chr [1:1719] "comp_32" "comp_758" "comp_155" "comp_203" ...</span></span>
<span><span class="co">#&gt;   .. ..$ unit_1    : chr [1:1719] "group_31" "comp_757" "comp_154" "group_202" ...</span></span>
<span><span class="co">#&gt;   .. ..$ unit_2    : chr [1:1719] "group_225" "comp_1373" "comp_307" "group_339" ...</span></span>
<span><span class="co">#&gt;   .. ..$ comparison: chr [1:1719] "trend" "trend_crossDiff" "trend_groupDiff" "trend" ...</span></span>
<span><span class="co">#&gt;   ..$ group      :'data.frame':  153 obs. of  5 variables:</span></span>
<span><span class="co">#&gt;   .. ..$ id           : chr [1:153] "group_31" "group_202" "group_85" "group_34" ...</span></span>
<span><span class="co">#&gt;   .. ..$ TR_BUNDESLAND: chr [1:153] "BadenWuerttemberg" "BadenWuerttemberg" "BadenWuerttemberg" "Bayern" ...</span></span>
<span><span class="co">#&gt;   .. ..$ Kgender      : chr [1:153] "maennlich" "total" "weiblich" "maennlich" ...</span></span>
<span><span class="co">#&gt;   .. ..$ year         : chr [1:153] "2009" "2009" "2009" "2009" ...</span></span>
<span><span class="co">#&gt;   .. ..$ kb           : chr [1:153] "listen" "listen" "listen" "listen" ...</span></span>
<span><span class="co">#&gt;   ..$ estimate   :'data.frame':  2331 obs. of  7 variables:</span></span>
<span><span class="co">#&gt;   .. ..$ id       : chr [1:2331] "comp_32" "comp_758" "comp_155" "comp_203" ...</span></span>
<span><span class="co">#&gt;   .. ..$ depVar   : chr [1:2331] "bista" "bista" "bista" "bista" ...</span></span>
<span><span class="co">#&gt;   .. ..$ parameter: chr [1:2331] "mean" "mean" "mean" "mean" ...</span></span>
<span><span class="co">#&gt;   .. ..$ est      : num [1:2331] 5.73 -2.36 4.88 8.09 10.61 ...</span></span>
<span><span class="co">#&gt;   .. ..$ se       : num [1:2331] 6.64 8.62 6.91 5.82 6.67 ...</span></span>
<span><span class="co">#&gt;   .. ..$ p        : num [1:2331] 0.388 0.784 0.48 0.165 0.112 0.77 0.045 0.05 0.439 0.067 ...</span></span>
<span><span class="co">#&gt;   .. ..$ es       : num [1:2331] 0.063 NA NA 0.091 0.125 NA NA NA NA NA ...</span></span>
<span><span class="co">#&gt;   ..- attr(*, "class")= chr [1:2] "list" "report2"</span></span>
<span><span class="co">#&gt;  $ ortho :List of 4</span></span>
<span><span class="co">#&gt;   ..$ plain      :'data.frame':  2331 obs. of  17 variables:</span></span>
<span><span class="co">#&gt;   .. ..$ label1       : chr [1:2331] "trend (2015 - 2009) for BadenWuerttemberg_maennlich" "trend (2015 - 2009) for crossDiff (BadenWuerttemberg_maennlich - BadenWuerttemberg_total) " "trend (2015 - 2009) of groupDiff (maennlich - weiblich) in TR_BUNDESLAND=BadenWuerttemberg" "trend (2015 - 2009) for BadenWuerttemberg_total" ...</span></span>
<span><span class="co">#&gt;   .. ..$ label2       : chr [1:2331] "year=2015 - year=2009: TR_BUNDESLAND=BadenWuerttemberg, Kgender=maennlich" "[year=2015: (TR_BUNDESLAND=BadenWuerttemberg, Kgender=maennlich)] - [year=2009: (TR_BUNDESLAND=BadenWuerttember"| __truncated__ "[year=2015: (TR_BUNDESLAND=BadenWuerttemberg, Kgender=maennlich) - (TR_BUNDESLAND=BadenWuerttemberg, Kgender=we"| __truncated__ "year=2015 - year=2009: TR_BUNDESLAND=BadenWuerttemberg, Kgender=total" ...</span></span>
<span><span class="co">#&gt;   .. ..$ unit_1       : chr [1:2331] "group_31" "comp_757" "comp_154" "group_202" ...</span></span>
<span><span class="co">#&gt;   .. ..$ unit_2       : chr [1:2331] "group_225" "comp_1373" "comp_307" "group_339" ...</span></span>
<span><span class="co">#&gt;   .. ..$ depVar       : chr [1:2331] "bista" "bista" "bista" "bista" ...</span></span>
<span><span class="co">#&gt;   .. ..$ modus        : chr [1:2331] "JK2.mean__BIFIEsurvey" "JK2.mean__BIFIEsurvey" "JK2.mean__BIFIEsurvey" "JK2.mean__BIFIEsurvey" ...</span></span>
<span><span class="co">#&gt;   .. ..$ parameter    : chr [1:2331] "mean" "mean" "mean" "mean" ...</span></span>
<span><span class="co">#&gt;   .. ..$ comparison   : chr [1:2331] "trend" "trend_crossDiff" "trend_groupDiff" "trend" ...</span></span>
<span><span class="co">#&gt;   .. ..$ TR_BUNDESLAND: chr [1:2331] "BadenWuerttemberg" "BadenWuerttemberg" "BadenWuerttemberg" "BadenWuerttemberg" ...</span></span>
<span><span class="co">#&gt;   .. ..$ Kgender      : chr [1:2331] "maennlich" "maennlich - total" "maennlich - weiblich" "total" ...</span></span>
<span><span class="co">#&gt;   .. ..$ year         : chr [1:2331] "2015 - 2009" "2015 - 2009" "2015 - 2009" "2015 - 2009" ...</span></span>
<span><span class="co">#&gt;   .. ..$ id           : chr [1:2331] "comp_32" "comp_758" "comp_155" "comp_203" ...</span></span>
<span><span class="co">#&gt;   .. ..$ kb           : chr [1:2331] "ortho" "ortho" "ortho" "ortho" ...</span></span>
<span><span class="co">#&gt;   .. ..$ est          : num [1:2331] -18 -0.984 1.639 -17.016 -16.361 ...</span></span>
<span><span class="co">#&gt;   .. ..$ se           : num [1:2331] 6.92 8.64 7.93 5.47 6.21 ...</span></span>
<span><span class="co">#&gt;   .. ..$ p            : num [1:2331] 0.009 0.909 0.836 0.002 0.008 0.935 0.023 0.048 0.464 0.022 ...</span></span>
<span><span class="co">#&gt;   .. ..$ es           : num [1:2331] -0.177 NA NA -0.168 -0.174 NA NA NA NA NA ...</span></span>
<span><span class="co">#&gt;   ..$ comparisons:'data.frame':  1719 obs. of  4 variables:</span></span>
<span><span class="co">#&gt;   .. ..$ id        : chr [1:1719] "comp_32" "comp_758" "comp_155" "comp_203" ...</span></span>
<span><span class="co">#&gt;   .. ..$ unit_1    : chr [1:1719] "group_31" "comp_757" "comp_154" "group_202" ...</span></span>
<span><span class="co">#&gt;   .. ..$ unit_2    : chr [1:1719] "group_225" "comp_1373" "comp_307" "group_339" ...</span></span>
<span><span class="co">#&gt;   .. ..$ comparison: chr [1:1719] "trend" "trend_crossDiff" "trend_groupDiff" "trend" ...</span></span>
<span><span class="co">#&gt;   ..$ group      :'data.frame':  153 obs. of  5 variables:</span></span>
<span><span class="co">#&gt;   .. ..$ id           : chr [1:153] "group_31" "group_202" "group_85" "group_34" ...</span></span>
<span><span class="co">#&gt;   .. ..$ TR_BUNDESLAND: chr [1:153] "BadenWuerttemberg" "BadenWuerttemberg" "BadenWuerttemberg" "Bayern" ...</span></span>
<span><span class="co">#&gt;   .. ..$ Kgender      : chr [1:153] "maennlich" "total" "weiblich" "maennlich" ...</span></span>
<span><span class="co">#&gt;   .. ..$ year         : chr [1:153] "2009" "2009" "2009" "2009" ...</span></span>
<span><span class="co">#&gt;   .. ..$ kb           : chr [1:153] "ortho" "ortho" "ortho" "ortho" ...</span></span>
<span><span class="co">#&gt;   ..$ estimate   :'data.frame':  2331 obs. of  7 variables:</span></span>
<span><span class="co">#&gt;   .. ..$ id       : chr [1:2331] "comp_32" "comp_758" "comp_155" "comp_203" ...</span></span>
<span><span class="co">#&gt;   .. ..$ depVar   : chr [1:2331] "bista" "bista" "bista" "bista" ...</span></span>
<span><span class="co">#&gt;   .. ..$ parameter: chr [1:2331] "mean" "mean" "mean" "mean" ...</span></span>
<span><span class="co">#&gt;   .. ..$ est      : num [1:2331] -18 -0.984 1.639 -17.016 -16.361 ...</span></span>
<span><span class="co">#&gt;   .. ..$ se       : num [1:2331] 6.92 8.64 7.93 5.47 6.21 ...</span></span>
<span><span class="co">#&gt;   .. ..$ p        : num [1:2331] 0.009 0.909 0.836 0.002 0.008 0.935 0.023 0.048 0.464 0.022 ...</span></span>
<span><span class="co">#&gt;   .. ..$ es       : num [1:2331] -0.177 NA NA -0.168 -0.174 NA NA NA NA NA ...</span></span>
<span><span class="co">#&gt;   ..- attr(*, "class")= chr [1:2] "list" "report2"</span></span>
<span><span class="co">#&gt;  $ read  :List of 4</span></span>
<span><span class="co">#&gt;   ..$ plain      :'data.frame':  2331 obs. of  17 variables:</span></span>
<span><span class="co">#&gt;   .. ..$ label1       : chr [1:2331] "trend (2015 - 2009) for BadenWuerttemberg_maennlich" "trend (2015 - 2009) for crossDiff (BadenWuerttemberg_maennlich - BadenWuerttemberg_total) " "trend (2015 - 2009) of groupDiff (maennlich - weiblich) in TR_BUNDESLAND=BadenWuerttemberg" "trend (2015 - 2009) for BadenWuerttemberg_total" ...</span></span>
<span><span class="co">#&gt;   .. ..$ label2       : chr [1:2331] "year=2015 - year=2009: TR_BUNDESLAND=BadenWuerttemberg, Kgender=maennlich" "[year=2015: (TR_BUNDESLAND=BadenWuerttemberg, Kgender=maennlich)] - [year=2009: (TR_BUNDESLAND=BadenWuerttember"| __truncated__ "[year=2015: (TR_BUNDESLAND=BadenWuerttemberg, Kgender=maennlich) - (TR_BUNDESLAND=BadenWuerttemberg, Kgender=we"| __truncated__ "year=2015 - year=2009: TR_BUNDESLAND=BadenWuerttemberg, Kgender=total" ...</span></span>
<span><span class="co">#&gt;   .. ..$ unit_1       : chr [1:2331] "group_31" "comp_757" "comp_154" "group_202" ...</span></span>
<span><span class="co">#&gt;   .. ..$ unit_2       : chr [1:2331] "group_225" "comp_1373" "comp_307" "group_339" ...</span></span>
<span><span class="co">#&gt;   .. ..$ depVar       : chr [1:2331] "bista" "bista" "bista" "bista" ...</span></span>
<span><span class="co">#&gt;   .. ..$ modus        : chr [1:2331] "JK2.mean__BIFIEsurvey" "JK2.mean__BIFIEsurvey" "JK2.mean__BIFIEsurvey" "JK2.mean__BIFIEsurvey" ...</span></span>
<span><span class="co">#&gt;   .. ..$ parameter    : chr [1:2331] "mean" "mean" "mean" "mean" ...</span></span>
<span><span class="co">#&gt;   .. ..$ comparison   : chr [1:2331] "trend" "trend_crossDiff" "trend_groupDiff" "trend" ...</span></span>
<span><span class="co">#&gt;   .. ..$ TR_BUNDESLAND: chr [1:2331] "BadenWuerttemberg" "BadenWuerttemberg" "BadenWuerttemberg" "BadenWuerttemberg" ...</span></span>
<span><span class="co">#&gt;   .. ..$ Kgender      : chr [1:2331] "maennlich" "maennlich - total" "maennlich - weiblich" "total" ...</span></span>
<span><span class="co">#&gt;   .. ..$ year         : chr [1:2331] "2015 - 2009" "2015 - 2009" "2015 - 2009" "2015 - 2009" ...</span></span>
<span><span class="co">#&gt;   .. ..$ id           : chr [1:2331] "comp_32" "comp_758" "comp_155" "comp_203" ...</span></span>
<span><span class="co">#&gt;   .. ..$ kb           : chr [1:2331] "read" "read" "read" "read" ...</span></span>
<span><span class="co">#&gt;   .. ..$ est          : num [1:2331] -0.757 -8.125 16.415 7.368 15.658 ...</span></span>
<span><span class="co">#&gt;   .. ..$ se           : num [1:2331] 6.32 7.98 7.54 5.22 6.35 ...</span></span>
<span><span class="co">#&gt;   .. ..$ p            : num [1:2331] 0.905 0.309 0.03 0.158 0.014 0.301 0.047 0.017 0.154 0.176 ...</span></span>
<span><span class="co">#&gt;   .. ..$ es           : num [1:2331] -0.008 NA NA 0.085 0.19 NA NA NA NA NA ...</span></span>
<span><span class="co">#&gt;   ..$ comparisons:'data.frame':  1719 obs. of  4 variables:</span></span>
<span><span class="co">#&gt;   .. ..$ id        : chr [1:1719] "comp_32" "comp_758" "comp_155" "comp_203" ...</span></span>
<span><span class="co">#&gt;   .. ..$ unit_1    : chr [1:1719] "group_31" "comp_757" "comp_154" "group_202" ...</span></span>
<span><span class="co">#&gt;   .. ..$ unit_2    : chr [1:1719] "group_225" "comp_1373" "comp_307" "group_339" ...</span></span>
<span><span class="co">#&gt;   .. ..$ comparison: chr [1:1719] "trend" "trend_crossDiff" "trend_groupDiff" "trend" ...</span></span>
<span><span class="co">#&gt;   ..$ group      :'data.frame':  153 obs. of  5 variables:</span></span>
<span><span class="co">#&gt;   .. ..$ id           : chr [1:153] "group_31" "group_202" "group_85" "group_34" ...</span></span>
<span><span class="co">#&gt;   .. ..$ TR_BUNDESLAND: chr [1:153] "BadenWuerttemberg" "BadenWuerttemberg" "BadenWuerttemberg" "Bayern" ...</span></span>
<span><span class="co">#&gt;   .. ..$ Kgender      : chr [1:153] "maennlich" "total" "weiblich" "maennlich" ...</span></span>
<span><span class="co">#&gt;   .. ..$ year         : chr [1:153] "2009" "2009" "2009" "2009" ...</span></span>
<span><span class="co">#&gt;   .. ..$ kb           : chr [1:153] "read" "read" "read" "read" ...</span></span>
<span><span class="co">#&gt;   ..$ estimate   :'data.frame':  2331 obs. of  7 variables:</span></span>
<span><span class="co">#&gt;   .. ..$ id       : chr [1:2331] "comp_32" "comp_758" "comp_155" "comp_203" ...</span></span>
<span><span class="co">#&gt;   .. ..$ depVar   : chr [1:2331] "bista" "bista" "bista" "bista" ...</span></span>
<span><span class="co">#&gt;   .. ..$ parameter: chr [1:2331] "mean" "mean" "mean" "mean" ...</span></span>
<span><span class="co">#&gt;   .. ..$ est      : num [1:2331] -0.757 -8.125 16.415 7.368 15.658 ...</span></span>
<span><span class="co">#&gt;   .. ..$ se       : num [1:2331] 6.32 7.98 7.54 5.22 6.35 ...</span></span>
<span><span class="co">#&gt;   .. ..$ p        : num [1:2331] 0.905 0.309 0.03 0.158 0.014 0.301 0.047 0.017 0.154 0.176 ...</span></span>
<span><span class="co">#&gt;   .. ..$ es       : num [1:2331] -0.008 NA NA 0.085 0.19 NA NA NA NA NA ...</span></span>
<span><span class="co">#&gt;   ..- attr(*, "class")= chr [1:2] "list" "report2"</span></span>
<span><span class="co">#&gt;  - attr(*, "dim")= int 5</span></span>
<span><span class="co">#&gt;  - attr(*, "dimnames")=List of 1</span></span>
<span><span class="co">#&gt;   ..$ datK6.auswahl[, "kb"]: chr [1:5] "hoeren" "lesen" "listen" "ortho" ...</span></span>
<span><span class="co">#&gt;  - attr(*, "call")= language by.data.frame(data = datK6.auswahl, INDICES = datK6.auswahl[, "kb"], FUN = function(kb) {     disp &lt;- repMean(dat| __truncated__ ...</span></span>
<span><span class="co">#&gt;  - attr(*, "class")= chr "by"</span></span></code></pre></div>
<p>We have multiple competence areas:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">dispar</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "hoeren" "lesen"  "listen" "ortho"  "read"</span></span></code></pre></div>
<p>To build plots for all competence areas, I’d suggest to follow these
three steps:</p>
<ol style="list-style-type: decimal">
<li>Build one plot.</li>
<li>Adjust it, until you are satisfied.</li>
<li>Put it into a function.</li>
<li>Use <code><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply()</a></code> to loop over the competence areas and
build the plots from the function defined in step 2.</li>
</ol>
</div>
<div class="section level2">
<h2 id="build-the-plot">1. Build the plot<a class="anchor" aria-label="anchor" href="#build-the-plot"></a>
</h2>
<p>Our goal is to build <a href="https://nickhaf.github.io/eatPlot/articles/tableplots.html#abbildung-6-6">Abbildung
6.6</a>. Let’s take <code>hoeren</code> for our prototype:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">dispar</span><span class="op">$</span><span class="va">hoeren</span><span class="op">)</span></span>
<span><span class="co">#&gt; List of 4</span></span>
<span><span class="co">#&gt;  $ plain      :'data.frame': 2331 obs. of  17 variables:</span></span>
<span><span class="co">#&gt;   ..$ label1       : chr [1:2331] "trend (2015 - 2009) for BadenWuerttemberg_maennlich" "trend (2015 - 2009) for crossDiff (BadenWuerttemberg_maennlich - BadenWuerttemberg_total) " "trend (2015 - 2009) of groupDiff (maennlich - weiblich) in TR_BUNDESLAND=BadenWuerttemberg" "trend (2015 - 2009) for BadenWuerttemberg_total" ...</span></span>
<span><span class="co">#&gt;   ..$ label2       : chr [1:2331] "year=2015 - year=2009: TR_BUNDESLAND=BadenWuerttemberg, Kgender=maennlich" "[year=2015: (TR_BUNDESLAND=BadenWuerttemberg, Kgender=maennlich)] - [year=2009: (TR_BUNDESLAND=BadenWuerttember"| __truncated__ "[year=2015: (TR_BUNDESLAND=BadenWuerttemberg, Kgender=maennlich) - (TR_BUNDESLAND=BadenWuerttemberg, Kgender=we"| __truncated__ "year=2015 - year=2009: TR_BUNDESLAND=BadenWuerttemberg, Kgender=total" ...</span></span>
<span><span class="co">#&gt;   ..$ unit_1       : chr [1:2331] "group_31" "comp_757" "comp_154" "group_202" ...</span></span>
<span><span class="co">#&gt;   ..$ unit_2       : chr [1:2331] "group_225" "comp_1373" "comp_307" "group_339" ...</span></span>
<span><span class="co">#&gt;   ..$ depVar       : chr [1:2331] "bista" "bista" "bista" "bista" ...</span></span>
<span><span class="co">#&gt;   ..$ modus        : chr [1:2331] "JK2.mean__BIFIEsurvey" "JK2.mean__BIFIEsurvey" "JK2.mean__BIFIEsurvey" "JK2.mean__BIFIEsurvey" ...</span></span>
<span><span class="co">#&gt;   ..$ parameter    : chr [1:2331] "mean" "mean" "mean" "mean" ...</span></span>
<span><span class="co">#&gt;   ..$ comparison   : chr [1:2331] "trend" "trend_crossDiff" "trend_groupDiff" "trend" ...</span></span>
<span><span class="co">#&gt;   ..$ TR_BUNDESLAND: chr [1:2331] "BadenWuerttemberg" "BadenWuerttemberg" "BadenWuerttemberg" "BadenWuerttemberg" ...</span></span>
<span><span class="co">#&gt;   ..$ Kgender      : chr [1:2331] "maennlich" "maennlich - total" "maennlich - weiblich" "total" ...</span></span>
<span><span class="co">#&gt;   ..$ year         : chr [1:2331] "2015 - 2009" "2015 - 2009" "2015 - 2009" "2015 - 2009" ...</span></span>
<span><span class="co">#&gt;   ..$ id           : chr [1:2331] "comp_32" "comp_758" "comp_155" "comp_203" ...</span></span>
<span><span class="co">#&gt;   ..$ kb           : chr [1:2331] "hoeren" "hoeren" "hoeren" "hoeren" ...</span></span>
<span><span class="co">#&gt;   ..$ est          : num [1:2331] -40.74 -6.47 12.97 -34.27 -27.77 ...</span></span>
<span><span class="co">#&gt;   ..$ se           : num [1:2331] 7.66 9.42 8.18 6.15 6.71 ...</span></span>
<span><span class="co">#&gt;   ..$ p            : num [1:2331] 0 0.492 0.113 0 0 0.453 0.004 0 0.605 0.001 ...</span></span>
<span><span class="co">#&gt;   ..$ es           : num [1:2331] -0.395 NA NA -0.336 -0.282 NA NA NA NA NA ...</span></span>
<span><span class="co">#&gt;  $ comparisons:'data.frame': 1719 obs. of  4 variables:</span></span>
<span><span class="co">#&gt;   ..$ id        : chr [1:1719] "comp_32" "comp_758" "comp_155" "comp_203" ...</span></span>
<span><span class="co">#&gt;   ..$ unit_1    : chr [1:1719] "group_31" "comp_757" "comp_154" "group_202" ...</span></span>
<span><span class="co">#&gt;   ..$ unit_2    : chr [1:1719] "group_225" "comp_1373" "comp_307" "group_339" ...</span></span>
<span><span class="co">#&gt;   ..$ comparison: chr [1:1719] "trend" "trend_crossDiff" "trend_groupDiff" "trend" ...</span></span>
<span><span class="co">#&gt;  $ group      :'data.frame': 153 obs. of  5 variables:</span></span>
<span><span class="co">#&gt;   ..$ id           : chr [1:153] "group_31" "group_202" "group_85" "group_34" ...</span></span>
<span><span class="co">#&gt;   ..$ TR_BUNDESLAND: chr [1:153] "BadenWuerttemberg" "BadenWuerttemberg" "BadenWuerttemberg" "Bayern" ...</span></span>
<span><span class="co">#&gt;   ..$ Kgender      : chr [1:153] "maennlich" "total" "weiblich" "maennlich" ...</span></span>
<span><span class="co">#&gt;   ..$ year         : chr [1:153] "2009" "2009" "2009" "2009" ...</span></span>
<span><span class="co">#&gt;   ..$ kb           : chr [1:153] "hoeren" "hoeren" "hoeren" "hoeren" ...</span></span>
<span><span class="co">#&gt;  $ estimate   :'data.frame': 2331 obs. of  7 variables:</span></span>
<span><span class="co">#&gt;   ..$ id       : chr [1:2331] "comp_32" "comp_758" "comp_155" "comp_203" ...</span></span>
<span><span class="co">#&gt;   ..$ depVar   : chr [1:2331] "bista" "bista" "bista" "bista" ...</span></span>
<span><span class="co">#&gt;   ..$ parameter: chr [1:2331] "mean" "mean" "mean" "mean" ...</span></span>
<span><span class="co">#&gt;   ..$ est      : num [1:2331] -40.74 -6.47 12.97 -34.27 -27.77 ...</span></span>
<span><span class="co">#&gt;   ..$ se       : num [1:2331] 7.66 9.42 8.18 6.15 6.71 ...</span></span>
<span><span class="co">#&gt;   ..$ p        : num [1:2331] 0 0.492 0.113 0 0 0.453 0.004 0 0.605 0.001 ...</span></span>
<span><span class="co">#&gt;   ..$ es       : num [1:2331] -0.395 NA NA -0.336 -0.282 NA NA NA NA NA ...</span></span>
<span><span class="co">#&gt;  - attr(*, "class")= chr [1:2] "list" "report2"</span></span></code></pre></div>
<p>First, I need to search for an appropriate template on this website.
Luckily, we already have a template for <a href="https://nickhaf.github.io/eatPlot/articles/tableplots.html#abbildung-6-6">Abbildung
6.6</a>. So ewe only need to follow it!<br>
To do this, I first have to look up how my subgroup variable is called.
I can find this out easiest by looking at the <code>group</code> or the
<code>plain</code> data.frame:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">dispar</span><span class="op">$</span><span class="va">hoeren</span><span class="op">$</span><span class="va">group</span><span class="op">)</span></span>
<span><span class="co">#&gt; 'data.frame':    153 obs. of  5 variables:</span></span>
<span><span class="co">#&gt;  $ id           : chr  "group_31" "group_202" "group_85" "group_34" ...</span></span>
<span><span class="co">#&gt;  $ TR_BUNDESLAND: chr  "BadenWuerttemberg" "BadenWuerttemberg" "BadenWuerttemberg" "Bayern" ...</span></span>
<span><span class="co">#&gt;  $ Kgender      : chr  "maennlich" "total" "weiblich" "maennlich" ...</span></span>
<span><span class="co">#&gt;  $ year         : chr  "2009" "2009" "2009" "2009" ...</span></span>
<span><span class="co">#&gt;  $ kb           : chr  "hoeren" "hoeren" "hoeren" "hoeren" ...</span></span></code></pre></div>
<p>My subgroup variable is called <code>Kgender</code>. Now I can use
the <code><a href="../reference/prep_tablebarplot.html">prep_tablebarplot()</a></code> function to prepare the data for
plotting. Of course I have to put my own data into this function:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dat_6.6</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/prep_tablebarplot.html">prep_tablebarplot</a></span><span class="op">(</span></span>
<span>  <span class="va">dispar</span><span class="op">$</span><span class="va">hoeren</span>, <span class="co">## My data.frame</span></span>
<span>  subgroup_var <span class="op">=</span> <span class="st">"Kgender"</span>, <span class="co">## The subgroup variable</span></span>
<span>  par <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mean"</span>, <span class="st">"sd"</span><span class="op">)</span> <span class="co">## We need both mean and sd for the plot</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>This is our prepared data.</p>
<div class="section level3">
<h3 id="data-wrangling">Data wrangling<a class="anchor" aria-label="anchor" href="#data-wrangling"></a>
</h3>
<p>For this specific plot, we also have to do some additional (but
simple) data transformation, because the data will be plotted in the
same order, as we give it into the function. First of all, we can subset
the subgroup variable to only extract the groups, we want to use in the
plot:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">gender_hoeren</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">dat_6.6</span>, <span class="va">subgroup_var</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"maennlich"</span>, <span class="st">"weiblich"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>In this BT, the girls should always be on top. To achieve this, we
have to sort our data:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">gender_hoeren</span> <span class="op">&lt;-</span> <span class="va">gender_hoeren</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html" class="external-link">order</a></span><span class="op">(</span><span class="va">gender_hoeren</span><span class="op">$</span><span class="va">subgroup_var</span>, decreasing <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>, <span class="op">]</span></span>
<span><span class="va">gender_hoeren</span> <span class="op">&lt;-</span> <span class="va">gender_hoeren</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html" class="external-link">order</a></span><span class="op">(</span><span class="va">gender_hoeren</span><span class="op">$</span><span class="va">state_var</span><span class="op">)</span>, <span class="op">]</span></span></code></pre></div>
<p>Also, we only want to write the Bundesland into the plot every second
row, so let’s remove duplicates:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">gender_hoeren</span><span class="op">$</span><span class="va">state_var</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/duplicated.html" class="external-link">duplicated</a></span><span class="op">(</span><span class="va">gender_hoeren</span><span class="op">$</span><span class="va">state_var</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">" "</span></span></code></pre></div>
<p>We can use the <code><a href="../reference/process_bundesland.html">process_bundesland()</a></code> function to add
dashes and replace umlauts. We also want to break the Bundesländer
names, if they are too long, so we set
<code>linebreak = TRUE</code>:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">gender_hoeren</span><span class="op">$</span><span class="va">state_var</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/process_bundesland.html">process_bundesland</a></span><span class="op">(</span><span class="va">gender_hoeren</span><span class="op">$</span><span class="va">state_var</span>, linebreak <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>Finally, we have to rename the groups to “Jungen” and “Mädchen” and
add an empty column, which will be used as a separator later on:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">gender_hoeren</span><span class="op">$</span><span class="va">subgroup_var</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">gsub</a></span><span class="op">(</span><span class="st">"maennlich"</span>, <span class="st">"Jungen"</span>, <span class="va">gender_hoeren</span><span class="op">$</span><span class="va">subgroup_var</span><span class="op">)</span></span>
<span><span class="va">gender_hoeren</span><span class="op">$</span><span class="va">subgroup_var</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">gsub</a></span><span class="op">(</span><span class="st">"weiblich"</span>, <span class="st">"Mädchen"</span>, <span class="va">gender_hoeren</span><span class="op">$</span><span class="va">subgroup_var</span><span class="op">)</span></span>
<span></span>
<span><span class="va">gender_hoeren</span><span class="op">$</span><span class="va">empty</span> <span class="op">&lt;-</span> <span class="st">""</span></span></code></pre></div>
<p>That’s it. The data now has the correct format for plotting.</p>
</div>
<div class="section level3">
<h3 id="plotting">Plotting<a class="anchor" aria-label="anchor" href="#plotting"></a>
</h3>
<p>Because we want to plot two plots next to each other, we need to set
the column widths of both plots to be the same:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">column_widths_stand</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/standardize_column_width.html">standardize_column_width</a></span><span class="op">(</span></span>
<span>  column_widths <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    p1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.085</span>, <span class="fl">0.05</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0.035</span>, <span class="fl">6</span><span class="op">)</span>, <span class="fl">0.015</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0.035</span>, <span class="fl">3</span><span class="op">)</span>, <span class="cn">NA</span><span class="op">)</span>,</span>
<span>    p2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0.035</span>, <span class="fl">3</span><span class="op">)</span>, <span class="cn">NA</span><span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  plot_ranges <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">142</span>, <span class="fl">142</span><span class="op">)</span> <span class="co"># Ranges of the x-axes of both plots set in 'axis_x_lims'.</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>To build the tables, we only copy paste from the template on the
website:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">p_1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/plot_tablebarplot.html">plot_tablebarplot</a></span><span class="op">(</span></span>
<span>  dat <span class="op">=</span> <span class="va">gender_hoeren</span>,</span>
<span>  bar_est <span class="op">=</span> <span class="st">"est_mean_comp_trend_sameFacet_sameSubgroup_2009_2015"</span>,</span>
<span>  bar_label <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  bar_sig <span class="op">=</span> <span class="st">"sig_mean_comp_trend_sameFacet_sameSubgroup_2009_2015"</span>,</span>
<span>  bar_fill <span class="op">=</span> <span class="st">"subgroup_var"</span>,</span>
<span>  column_spanners <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="st">"**2009**"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">4</span><span class="op">)</span>,</span>
<span>    <span class="st">"**2015**"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">6</span><span class="op">)</span>,</span>
<span>    <span class="st">"**2022**"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">7</span>, <span class="fl">8</span><span class="op">)</span>,</span>
<span>    <span class="st">"**Differenz 2015-2009**"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">13</span><span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  columns_table_se <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="cn">NULL</span>, <span class="cn">NULL</span>, <span class="cn">NULL</span>, <span class="cn">NULL</span>, <span class="cn">NULL</span>, <span class="cn">NULL</span>, <span class="cn">NULL</span>, <span class="cn">NULL</span>, <span class="cn">NULL</span>, <span class="cn">NULL</span>, <span class="st">"se_mean_comp_trend_sameFacet_sameSubgroup_2009_2015"</span>, <span class="cn">NULL</span><span class="op">)</span>,</span>
<span>  headers <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"**Land**"</span>, <span class="st">" "</span>, <span class="st">"*M*"</span>, <span class="st">"*SD*"</span>, <span class="st">"*M*"</span>, <span class="st">"*SD*"</span>, <span class="st">"*M*"</span>, <span class="st">"*SD*"</span>, <span class="st">""</span>, <span class="st">"*M&lt;sub&gt;2015&lt;/sub&gt;-&lt;br&gt;M&lt;sub&gt;2009&lt;/sub&gt;* "</span>, <span class="st">"*(SE)*"</span>, <span class="st">"*d*"</span>, <span class="st">" "</span><span class="op">)</span>,</span>
<span>  columns_table <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"state_var"</span>, <span class="st">"subgroup_var"</span>, <span class="st">"est_mean_comp_none_2009"</span>, <span class="st">"est_sd_comp_none_2009"</span>, <span class="st">"est_mean_comp_none_2015"</span>, <span class="st">"est_sd_comp_none_2015"</span>, <span class="st">"est_mean_comp_none_2022"</span>, <span class="st">"est_sd_comp_none_2022"</span>, <span class="st">"empty"</span>, <span class="st">"est_mean_comp_trend_sameFacet_sameSubgroup_2009_2015"</span>, <span class="st">"se_mean_comp_trend_sameFacet_sameSubgroup_2009_2015"</span>, <span class="st">"es_mean_comp_trend_sameFacet_sameSubgroup_2009_2015"</span><span class="op">)</span>,</span>
<span>  columns_table_sig_bold <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="cn">NULL</span>, <span class="cn">NULL</span>, <span class="st">"sig_mean_comp_none_2009"</span>,</span>
<span>    <span class="cn">NULL</span>, <span class="st">"sig_mean_comp_none_2015"</span>, <span class="cn">NULL</span>, <span class="st">"sig_mean_comp_none_2022"</span>, <span class="cn">NULL</span>, <span class="cn">NULL</span>, <span class="st">"sig_mean_comp_trend_sameFacet_sameSubgroup_2009_2015"</span>, <span class="cn">NULL</span>, <span class="st">"sig_mean_comp_trend_sameFacet_sameSubgroup_2009_2015"</span></span>
<span>  <span class="op">)</span>,</span>
<span>  columns_table_sig_superscript <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="cn">NULL</span>, <span class="cn">NULL</span>, <span class="cn">NULL</span>, <span class="cn">NULL</span>, <span class="cn">NULL</span>, <span class="cn">NULL</span>, <span class="cn">NULL</span>, <span class="cn">NULL</span>, <span class="cn">NULL</span>, <span class="st">"sig_mean_comp_trend_crossDiff_totalFacet_sameSubgroup_2009_2015"</span>, <span class="cn">NULL</span>, <span class="cn">NULL</span><span class="op">)</span>,</span>
<span>  y_axis <span class="op">=</span> <span class="st">"y_axis"</span>,</span>
<span>  columns_round <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">11</span><span class="op">)</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>  plot_settings <span class="op">=</span> <span class="fu"><a href="../reference/plotsettings_tablebarplot.html">plotsettings_tablebarplot</a></span><span class="op">(</span></span>
<span>    bar_pattern_spacing <span class="op">=</span> <span class="fl">0.0159</span>, <span class="co">## We calculated this below in standardize_pattern_spacing()</span></span>
<span>    columns_alignment <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    columns_width <span class="op">=</span> <span class="va">column_widths_stand</span><span class="op">$</span><span class="va">p1</span>, <span class="co">## This is the column-width object we set above</span></span>
<span>    columns_nudge_y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">0.5</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">11</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    headers_alignment <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">7</span><span class="op">)</span>, <span class="fl">0</span>, <span class="fl">0.5</span>, <span class="fl">0.5</span>, <span class="fl">0</span><span class="op">)</span>,</span>
<span>    headers_row_height <span class="op">=</span> <span class="fl">1.75</span>,</span>
<span>    headers_nudge_x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">9</span><span class="op">)</span>, <span class="fl">2</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    default_list <span class="op">=</span> <span class="va">abb_6.6</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="va">p_2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/plot_tablebarplot.html">plot_tablebarplot</a></span><span class="op">(</span></span>
<span>  dat <span class="op">=</span> <span class="va">gender_hoeren</span>,</span>
<span>  bar_est <span class="op">=</span> <span class="st">"est_mean_comp_trend_sameFacet_sameSubgroup_2015_2022"</span>,</span>
<span>  bar_label <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  bar_sig <span class="op">=</span> <span class="st">"sig_mean_comp_trend_sameFacet_sameSubgroup_2009_2015"</span>,</span>
<span>  bar_fill <span class="op">=</span> <span class="st">"subgroup_var"</span>,</span>
<span>  column_spanners <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="st">"**Differenz 2022-2015**"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">4</span><span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  headers <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="st">"*M&lt;sub&gt;2022&lt;/sub&gt;-&lt;br&gt;M&lt;sub&gt;2015&lt;/sub&gt;* "</span>,</span>
<span>    <span class="st">"*(SE)*"</span>,</span>
<span>    <span class="st">"*d*"</span>,</span>
<span>    <span class="st">" "</span></span>
<span>  <span class="op">)</span>,</span>
<span>  columns_table <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="st">"est_mean_comp_trend_sameFacet_sameSubgroup_2015_2022"</span>,</span>
<span>    <span class="st">"se_mean_comp_trend_sameFacet_sameSubgroup_2015_2022"</span>,</span>
<span>    <span class="st">"es_mean_comp_trend_sameFacet_sameSubgroup_2015_2022"</span></span>
<span>  <span class="op">)</span>,</span>
<span>  columns_table_se <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="cn">NULL</span>, <span class="st">"se_mean_comp_trend_sameFacet_sameSubgroup_2015_2022"</span>, <span class="cn">NULL</span><span class="op">)</span>,</span>
<span>  columns_table_sig_bold <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"sig_mean_comp_trend_sameFacet_sameSubgroup_2015_2022"</span>, <span class="cn">NULL</span>, <span class="st">"sig_mean_comp_trend_sameFacet_sameSubgroup_2015_2022"</span><span class="op">)</span>,</span>
<span>  columns_table_sig_superscript <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"sig_mean_comp_trend_crossDiff_totalFacet_sameSubgroup_2015_2022"</span>, <span class="cn">NULL</span>, <span class="cn">NULL</span><span class="op">)</span>,</span>
<span>  y_axis <span class="op">=</span> <span class="st">"y_axis"</span>,</span>
<span>  columns_round <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>  plot_settings <span class="op">=</span> <span class="fu"><a href="../reference/plotsettings_tablebarplot.html">plotsettings_tablebarplot</a></span><span class="op">(</span></span>
<span>    bar_pattern_spacing <span class="op">=</span> <span class="fl">0.0341</span>, <span class="co">## We calculated this below in standardize_pattern_spacing()</span></span>
<span>    columns_alignment <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>    columns_width <span class="op">=</span> <span class="va">column_widths_stand</span><span class="op">$</span><span class="va">p2</span>, <span class="co">## This is the column-width object we set above</span></span>
<span>    headers_nudge_x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span>,</span>
<span>    headers_alignment <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0.5</span>, <span class="fl">0.5</span>, <span class="fl">0</span><span class="op">)</span>,</span>
<span>    headers_row_height <span class="op">=</span> <span class="fl">1.75</span>,</span>
<span>    default_list <span class="op">=</span> <span class="va">abb_6.6</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>For the patterns in the bars to have the same widht, we need to set
the spacing between them:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">bar_pattern_spacing_stand</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/standardize_pattern_spacing.html">standardize_pattern_spacing</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">p_1</span>, <span class="va">p_2</span><span class="op">)</span>, pattern_spacing <span class="op">=</span> <span class="fl">0.05</span><span class="op">)</span></span>
<span><span class="co">#&gt; Next Step: Update the bar_pattern_spacing values in your respective plots with the output values.</span></span>
<span><span class="va">bar_pattern_spacing_stand</span></span>
<span><span class="co">#&gt; [1] 0.0159 0.0341</span></span></code></pre></div>
<p>(Rebuild the plot with these pattern spacings)</p>
<p>Finally, we can combine the plots:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tableplot_6.6</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/combine_plots.html">combine_plots</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">p_1</span>, <span class="va">p_2</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="adjustments">2. Adjustments<a class="anchor" aria-label="anchor" href="#adjustments"></a>
</h2>
<p>Now we can fine/tune the plot, like setting the column widths, nudge
the headers into the right position, etc. You have to look at the plot
in the right format so the changes are shown in the correct proportions.
Either save them as PDF, or use the <code>ggview</code> package:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p</span> <span class="op">&lt;-</span> <span class="va">tableplot_6.6</span> <span class="op">+</span></span>
<span>  <span class="fu">ggview</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/ggview/man/canvas.html" class="external-link">canvas</a></span><span class="op">(</span></span>
<span>    <span class="fl">235</span>, <span class="fl">130</span>,</span>
<span>    units <span class="op">=</span> <span class="st">"mm"</span></span>
<span>  <span class="op">)</span></span>
<span><span class="va">p</span></span></code></pre></div>
<p>(You have to re-evaluate the plot without the <code>canvas()</code>
function before saving it though.)</p>
<p>If everything is satisfactory, we can save the plot.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/save_plot.html">save_plot</a></span><span class="op">(</span><span class="va">tableplot_6.6</span>, filename <span class="op">=</span> <span class="st">"C:/Users/hafiznij/Downloads/abb_6.6.pdf"</span>, width <span class="op">=</span> <span class="fl">235</span>, height <span class="op">=</span> <span class="fl">130</span>, scaling <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="put-it-into-a-function">3. Put it into a function<a class="anchor" aria-label="anchor" href="#put-it-into-a-function"></a>
</h2>
<p>As soon as the plot basis works, we can put the code into a dedicated
function, to pack it away:</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Data Prep</span></span>
<span><span class="va">prepare_6.6_data</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">dat_kb</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">dat_6.6</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/prep_tablebarplot.html">prep_tablebarplot</a></span><span class="op">(</span></span>
<span>    <span class="va">dat_kb</span>,</span>
<span>    subgroup_var <span class="op">=</span> <span class="st">"Kgender"</span>,</span>
<span>    par <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mean"</span>, <span class="st">"sd"</span><span class="op">)</span> <span class="co">## We need both mean and sd for the plot</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span></span>
<span>  <span class="co">## Jetzt müssen wir die Daten noch ein wenig für unseren spezifischen Plot umformen</span></span>
<span>  <span class="co">## Wir wollen nur männlich und weiblich plotten:</span></span>
<span>  <span class="va">dat_6.6</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">dat_6.6</span>, <span class="va">subgroup_var</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"maennlich"</span>, <span class="st">"weiblich"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span>  <span class="co">## Mädchen sollen nach oben, d.h. wir sortieren zuerst absteigend alphabetisch, und dann nach den Bundesländern, um diese wieder in die richtige Reihenfolge zu bekommen</span></span>
<span>  <span class="va">dat_6.6</span> <span class="op">&lt;-</span> <span class="va">dat_6.6</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html" class="external-link">order</a></span><span class="op">(</span><span class="va">dat_6.6</span><span class="op">$</span><span class="va">subgroup_var</span>, decreasing <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>, <span class="op">]</span></span>
<span>  <span class="va">dat_6.6</span> <span class="op">&lt;-</span> <span class="va">dat_6.6</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html" class="external-link">order</a></span><span class="op">(</span><span class="va">dat_6.6</span><span class="op">$</span><span class="va">state_var</span><span class="op">)</span>, <span class="op">]</span></span>
<span></span>
<span>  <span class="co">## Dann soll nur in jeder zweiten Zeile das Bundesland geplotted werden, wir entfernen also Duplikate:</span></span>
<span>  <span class="va">dat_6.6</span><span class="op">$</span><span class="va">state_var</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/duplicated.html" class="external-link">duplicated</a></span><span class="op">(</span><span class="va">dat_6.6</span><span class="op">$</span><span class="va">state_var</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">" "</span></span>
<span></span>
<span>  <span class="co">## Mit process_bundesland() können wir Bindestriche einfügen und Umlaute austauschen.</span></span>
<span>  <span class="co">## linebreak = TRUE damit Bundesländer die aus zwei Wörten bestehen umgebrochen werden</span></span>
<span>  <span class="va">dat_6.6</span><span class="op">$</span><span class="va">state_var</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/process_bundesland.html">process_bundesland</a></span><span class="op">(</span><span class="va">dat_6.6</span><span class="op">$</span><span class="va">state_var</span>, linebreak <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span>  <span class="co">## Dann müssen wir noch die Gruppen in Jungen und Mädchen umbenennen</span></span>
<span>  <span class="va">dat_6.6</span><span class="op">$</span><span class="va">subgroup_var</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">gsub</a></span><span class="op">(</span><span class="st">"maennlich"</span>, <span class="st">"Jungen"</span>, <span class="va">dat_6.6</span><span class="op">$</span><span class="va">subgroup_var</span><span class="op">)</span></span>
<span>  <span class="va">dat_6.6</span><span class="op">$</span><span class="va">subgroup_var</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">gsub</a></span><span class="op">(</span><span class="st">"weiblich"</span>, <span class="st">"Mädchen"</span>, <span class="va">dat_6.6</span><span class="op">$</span><span class="va">subgroup_var</span><span class="op">)</span></span>
<span></span>
<span>  <span class="co">## Und eine leere Spalte erzeugen, die später als Trenner dient</span></span>
<span>  <span class="va">dat_6.6</span><span class="op">$</span><span class="va">empty</span> <span class="op">&lt;-</span> <span class="st">""</span></span>
<span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">dat_6.6</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co">## Plotting</span></span>
<span><span class="va">plot_6.6</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">dat_prepped</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">column_widths_stand</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/standardize_column_width.html">standardize_column_width</a></span><span class="op">(</span></span>
<span>    column_widths <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>      p1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.085</span>, <span class="fl">0.05</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0.035</span>, <span class="fl">6</span><span class="op">)</span>, <span class="fl">0.015</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0.035</span>, <span class="fl">3</span><span class="op">)</span>, <span class="cn">NA</span><span class="op">)</span>,</span>
<span>      p2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0.035</span>, <span class="fl">3</span><span class="op">)</span>, <span class="cn">NA</span><span class="op">)</span></span>
<span>    <span class="op">)</span>,</span>
<span>    plot_ranges <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">140</span>, <span class="fl">142</span><span class="op">)</span> <span class="co"># Ranges of the x-axes of both plots set in 'axis_x_lims'.</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span></span>
<span>  <span class="co">## 3. Tabellen erzeugen:</span></span>
<span>  <span class="co">## Dafür copy-pasten wir einfach von der Vorlage:</span></span>
<span></span>
<span>  <span class="va">p_1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/plot_tablebarplot.html">plot_tablebarplot</a></span><span class="op">(</span></span>
<span>    dat <span class="op">=</span> <span class="va">dat_prepped</span>,</span>
<span>    bar_est <span class="op">=</span> <span class="st">"est_mean_comp_trend_sameFacet_sameSubgroup_2009_2015"</span>,</span>
<span>    bar_label <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>    bar_sig <span class="op">=</span> <span class="st">"sig_mean_comp_trend_sameFacet_sameSubgroup_2009_2015"</span>,</span>
<span>    bar_fill <span class="op">=</span> <span class="st">"subgroup_var"</span>,</span>
<span>    column_spanners <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>      <span class="st">"**2009**"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">4</span><span class="op">)</span>,</span>
<span>      <span class="st">"**2015**"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">6</span><span class="op">)</span>,</span>
<span>      <span class="st">"**2022**"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">7</span>, <span class="fl">8</span><span class="op">)</span>,</span>
<span>      <span class="st">"**Differenz 2015-2009**"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">13</span><span class="op">)</span></span>
<span>    <span class="op">)</span>,</span>
<span>    columns_table_se <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="cn">NULL</span>, <span class="cn">NULL</span>, <span class="cn">NULL</span>, <span class="cn">NULL</span>, <span class="cn">NULL</span>, <span class="cn">NULL</span>, <span class="cn">NULL</span>, <span class="cn">NULL</span>, <span class="cn">NULL</span>, <span class="cn">NULL</span>, <span class="st">"se_mean_comp_trend_sameFacet_sameSubgroup_2009_2015"</span>, <span class="cn">NULL</span><span class="op">)</span>,</span>
<span>    headers <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"**Land**"</span>, <span class="st">" "</span>, <span class="st">"*M*"</span>, <span class="st">"*SD*"</span>, <span class="st">"*M*"</span>, <span class="st">"*SD*"</span>, <span class="st">"*M*"</span>, <span class="st">"*SD*"</span>, <span class="st">""</span>, <span class="st">"*M&lt;sub&gt;2015&lt;/sub&gt;-&lt;br&gt;M&lt;sub&gt;2009&lt;/sub&gt;* "</span>, <span class="st">"*(SE)*"</span>, <span class="st">"*d*"</span>, <span class="st">" "</span><span class="op">)</span>,</span>
<span>    columns_table <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"state_var"</span>, <span class="st">"subgroup_var"</span>, <span class="st">"est_mean_comp_none_2009"</span>, <span class="st">"est_sd_comp_none_2009"</span>, <span class="st">"est_mean_comp_none_2015"</span>, <span class="st">"est_sd_comp_none_2015"</span>, <span class="st">"est_mean_comp_none_2022"</span>, <span class="st">"est_sd_comp_none_2022"</span>, <span class="st">"empty"</span>, <span class="st">"est_mean_comp_trend_sameFacet_sameSubgroup_2009_2015"</span>, <span class="st">"se_mean_comp_trend_sameFacet_sameSubgroup_2009_2015"</span>, <span class="st">"es_mean_comp_trend_sameFacet_sameSubgroup_2009_2015"</span><span class="op">)</span>,</span>
<span>    columns_table_sig_bold <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>      <span class="cn">NULL</span>, <span class="cn">NULL</span>, <span class="st">"sig_mean_comp_none_2009"</span>,</span>
<span>      <span class="cn">NULL</span>, <span class="st">"sig_mean_comp_none_2015"</span>, <span class="cn">NULL</span>, <span class="st">"sig_mean_comp_none_2022"</span>, <span class="cn">NULL</span>, <span class="cn">NULL</span>, <span class="st">"sig_mean_comp_trend_sameFacet_sameSubgroup_2009_2015"</span>, <span class="cn">NULL</span>, <span class="st">"sig_mean_comp_trend_sameFacet_sameSubgroup_2009_2015"</span></span>
<span>    <span class="op">)</span>,</span>
<span>    columns_table_sig_superscript <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="cn">NULL</span>, <span class="cn">NULL</span>, <span class="cn">NULL</span>, <span class="cn">NULL</span>, <span class="cn">NULL</span>, <span class="cn">NULL</span>, <span class="cn">NULL</span>, <span class="cn">NULL</span>, <span class="cn">NULL</span>, <span class="st">"sig_mean_comp_trend_crossDiff_totalFacet_sameSubgroup_2009_2015"</span>, <span class="cn">NULL</span>, <span class="cn">NULL</span><span class="op">)</span>,</span>
<span>    y_axis <span class="op">=</span> <span class="st">"y_axis"</span>,</span>
<span>    columns_round <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">11</span><span class="op">)</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>    plot_settings <span class="op">=</span> <span class="fu"><a href="../reference/plotsettings_tablebarplot.html">plotsettings_tablebarplot</a></span><span class="op">(</span></span>
<span>      axis_x_lims <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">70</span>, <span class="fl">70</span><span class="op">)</span>,</span>
<span>      bar_pattern_spacing <span class="op">=</span> <span class="fl">0.016</span>, <span class="co">## We calculated this below in standardize_pattern_spacing()</span></span>
<span>      columns_alignment <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span><span class="op">)</span>,</span>
<span>      columns_width <span class="op">=</span> <span class="va">column_widths_stand</span><span class="op">$</span><span class="va">p1</span>, <span class="co">## This is the column-width object we set above</span></span>
<span>      columns_table_sig_superscript_letter <span class="op">=</span> <span class="st">"a"</span>,</span>
<span>      columns_table_sig_superscript_letter_nudge_x <span class="op">=</span> <span class="fl">5.5</span>,</span>
<span>      columns_nudge_y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">0.5</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">11</span><span class="op">)</span><span class="op">)</span>,</span>
<span>      headers_alignment <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">7</span><span class="op">)</span>, <span class="fl">0</span>, <span class="fl">0.5</span>, <span class="fl">0.5</span>, <span class="fl">0</span><span class="op">)</span>,</span>
<span>      headers_row_height <span class="op">=</span> <span class="fl">1.75</span>,</span>
<span>      headers_nudge_x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">9</span><span class="op">)</span>, <span class="fl">2</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span>,</span>
<span>      default_list <span class="op">=</span> <span class="va">abb_6.6</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span></span>
<span></span>
<span>  <span class="va">p_2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/plot_tablebarplot.html">plot_tablebarplot</a></span><span class="op">(</span></span>
<span>    dat <span class="op">=</span> <span class="va">dat_prepped</span>,</span>
<span>    bar_est <span class="op">=</span> <span class="st">"est_mean_comp_trend_sameFacet_sameSubgroup_2015_2022"</span>,</span>
<span>    bar_label <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>    bar_sig <span class="op">=</span> <span class="st">"sig_mean_comp_trend_sameFacet_sameSubgroup_2015_2022"</span>,</span>
<span>    bar_fill <span class="op">=</span> <span class="st">"subgroup_var"</span>,</span>
<span>    column_spanners <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>      <span class="st">"**Differenz 2022-2015**"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">4</span><span class="op">)</span></span>
<span>    <span class="op">)</span>,</span>
<span>    headers <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>      <span class="st">"*M&lt;sub&gt;2022&lt;/sub&gt;-&lt;br&gt;M&lt;sub&gt;2015&lt;/sub&gt;* "</span>,</span>
<span>      <span class="st">"*(SE)*"</span>,</span>
<span>      <span class="st">"*d*"</span>,</span>
<span>      <span class="st">" "</span></span>
<span>    <span class="op">)</span>,</span>
<span>    columns_table <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>      <span class="st">"est_mean_comp_trend_sameFacet_sameSubgroup_2015_2022"</span>,</span>
<span>      <span class="st">"se_mean_comp_trend_sameFacet_sameSubgroup_2015_2022"</span>,</span>
<span>      <span class="st">"es_mean_comp_trend_sameFacet_sameSubgroup_2015_2022"</span></span>
<span>    <span class="op">)</span>,</span>
<span>    columns_table_se <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="cn">NULL</span>, <span class="st">"se_mean_comp_trend_sameFacet_sameSubgroup_2015_2022"</span>, <span class="cn">NULL</span><span class="op">)</span>,</span>
<span>    columns_table_sig_bold <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"sig_mean_comp_trend_sameFacet_sameSubgroup_2015_2022"</span>, <span class="cn">NULL</span>, <span class="st">"sig_mean_comp_trend_sameFacet_sameSubgroup_2015_2022"</span><span class="op">)</span>,</span>
<span>    columns_table_sig_superscript <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"sig_mean_comp_trend_crossDiff_totalFacet_sameSubgroup_2015_2022"</span>, <span class="cn">NULL</span>, <span class="cn">NULL</span><span class="op">)</span>,</span>
<span>    y_axis <span class="op">=</span> <span class="st">"y_axis"</span>,</span>
<span>    columns_round <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>    plot_settings <span class="op">=</span> <span class="fu"><a href="../reference/plotsettings_tablebarplot.html">plotsettings_tablebarplot</a></span><span class="op">(</span></span>
<span>      axis_x_lims <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">70</span>, <span class="fl">72</span><span class="op">)</span>,</span>
<span>      bar_pattern_spacing <span class="op">=</span> <span class="fl">0.034</span>, <span class="co">## We calculated this below in standardize_pattern_spacing()</span></span>
<span>      columns_alignment <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>      columns_width <span class="op">=</span> <span class="va">column_widths_stand</span><span class="op">$</span><span class="va">p2</span>, <span class="co">## This is the column-width object we set above</span></span>
<span>      columns_table_sig_superscript_letter <span class="op">=</span> <span class="st">"a"</span>,</span>
<span>      columns_table_sig_superscript_letter_nudge_x <span class="op">=</span> <span class="fl">5.5</span>,</span>
<span>      headers_nudge_x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span>,</span>
<span>      headers_alignment <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0.5</span>, <span class="fl">0.5</span>, <span class="fl">0</span><span class="op">)</span>,</span>
<span>      headers_row_height <span class="op">=</span> <span class="fl">1.75</span>,</span>
<span>      default_list <span class="op">=</span> <span class="va">abb_6.6</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span>  <span class="va">tableplot_6.6</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/combine_plots.html">combine_plots</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">p_1</span>, <span class="va">p_2</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span>  <span class="fu"><a href="../reference/save_plot.html">save_plot</a></span><span class="op">(</span><span class="va">tableplot_6.6</span>,</span>
<span>    filename <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span></span>
<span>      <span class="st">"C:/Users/hafiznij/Downloads/abb_6.6_"</span>,</span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">dat_prepped</span><span class="op">$</span><span class="va">kb</span><span class="op">)</span>,</span>
<span>      <span class="st">".pdf"</span></span>
<span>    <span class="op">)</span>,</span>
<span>    width <span class="op">=</span> <span class="fl">235</span>,</span>
<span>    height <span class="op">=</span> <span class="fl">130</span>,</span>
<span>    scaling <span class="op">=</span> <span class="fl">1</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">tableplot_6.6</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>These function now do the same thing we have done above, but we can
easily exchange the data set:</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">prepped_hoeren</span> <span class="op">&lt;-</span> <span class="fu">prepare_6.6_data</span><span class="op">(</span><span class="va">kap_06</span><span class="op">$</span><span class="va">hoeren</span><span class="op">)</span></span>
<span><span class="va">plot_hoeren</span> <span class="op">&lt;-</span> <span class="fu">plot_6.6</span><span class="op">(</span><span class="va">prepped_hoeren</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="looping-over-the-competence-areas">4. Looping over the competence areas<a class="anchor" aria-label="anchor" href="#looping-over-the-competence-areas"></a>
</h2>
<p>Now we can use that function for looping over all competence areas
with <code><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply()</a></code>:</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">list_prepped</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">dispar</span>, <span class="va">prepare_6.6_data</span><span class="op">)</span></span>
<span><span class="va">list_plots</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">list_prepped</span>, <span class="va">plot_6.6</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">list_plots</span><span class="op">$</span><span class="va">read</span></span></code></pre></div>
<p><img src="loop_example_files/figure-html/unnamed-chunk-22-1.png" width="700"></p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">list_plots</span><span class="op">$</span><span class="va">listen</span></span></code></pre></div>
<p><img src="loop_example_files/figure-html/unnamed-chunk-23-1.png" width="700"></p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Nicklas Hafiz.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
